(function(a,b){if(typeof exports==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{a.EasyPieChart=b()}}}(this,function(){var a=function(d,m){var k;var e=document.createElement("canvas");d.appendChild(e);if(typeof(G_vmlCanvasManager)!=="undefined"){G_vmlCanvasManager.initElement(e)}var l=e.getContext("2d");e.width=e.height=m.size;var j=1;if(window.devicePixelRatio>1){j=window.devicePixelRatio;e.style.width=e.style.height=[m.size,"px"].join("");e.width=e.height=m.size*j;l.scale(j,j)}l.translate(m.size/2,m.size/2);l.rotate((-1/2+m.rotate/180)*Math.PI);var h=(m.size-m.lineWidth)/2;if(m.scaleColor&&m.scaleLength){h-=m.scaleLength+2}Date.now=Date.now||function(){return +(new Date())};var i=function(p,n,q){q=Math.min(Math.max(-1,q||0),1);var o=q<=0?true:false;l.beginPath();l.arc(0,0,h,0,Math.PI*2*q,o);l.strokeStyle=p;l.lineWidth=n;l.stroke()};var c=function(){var p;var o;l.lineWidth=1;l.fillStyle=m.scaleColor;l.save();for(var n=24;n>0;--n){if(n%6===0){o=m.scaleLength;p=0}else{o=m.scaleLength*0.6;p=m.scaleLength-o}l.fillRect(-m.size/2+p,0,o,1);l.rotate(Math.PI/12)}l.restore()};var g=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,1000/60)}}());var f=function(){if(m.scaleColor){c()}if(m.trackColor){i(m.trackColor,m.lineWidth,1)}};this.getCanvas=function(){return e};this.getCtx=function(){return l};this.clear=function(){l.clearRect(m.size/-2,m.size/-2,m.size,m.size)};this.draw=function(o){if(!!m.scaleColor||!!m.trackColor){if(l.getImageData&&l.putImageData){if(!k){f();k=l.getImageData(0,0,m.size*j,m.size*j)}else{l.putImageData(k,0,0)}}else{this.clear();f()}}else{this.clear()}l.lineCap=m.lineCap;var n;if(typeof(m.barColor)==="function"){n=m.barColor(o)}else{n=m.barColor}i(n,m.lineWidth,o/100)}.bind(this);this.animate=function(q,p){var n=Date.now();m.onStart(q,p);var o=function(){var s=Math.min(Date.now()-n,m.animate.duration);var r=m.easing(this,s,q,p-q,m.animate.duration);this.draw(r);m.onStep(q,p,r);if(s>=m.animate.duration){m.onStop(q,p)}else{g(o)}}.bind(this);g(o)}.bind(this)};var b=function(f,g){var c={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1000,enabled:true},easing:function(j,k,i,m,l){k=k/(l/2);if(k<1){return m/2*k*k+i}return -m/2*((--k)*(k-2)-1)+i},onStart:function(j,i){return},onStep:function(k,j,i){return},onStop:function(j,i){return}};if(typeof(a)!=="undefined"){c.renderer=a}else{if(typeof(SVGRenderer)!=="undefined"){c.renderer=SVGRenderer}else{throw new Error("Please load either the SVG- or the CanvasRenderer")}}var d={};var e=0;var h=function(){this.el=f;this.options=d;for(var j in c){if(c.hasOwnProperty(j)){d[j]=g&&typeof(g[j])!=="undefined"?g[j]:c[j];if(typeof(d[j])==="function"){d[j]=d[j].bind(this)}}}if(typeof(d.easing)==="string"&&typeof(jQuery)!=="undefined"&&jQuery.isFunction(jQuery.easing[d.easing])){d.easing=jQuery.easing[d.easing]}else{d.easing=c.easing}if(typeof(d.animate)==="number"){d.animate={duration:d.animate,enabled:true}}if(typeof(d.animate)==="boolean"&&!d.animate){d.animate={duration:1000,enabled:d.animate}}this.renderer=new d.renderer(f,d);this.renderer.draw(e);if(f.dataset&&f.dataset.percent){this.update(parseFloat(f.dataset.percent))}else{if(f.getAttribute&&f.getAttribute("data-percent")){this.update(parseFloat(f.getAttribute("data-percent")))}}}.bind(this);this.update=function(i){i=parseFloat(i);if(d.animate.enabled){this.renderer.animate(e,i)}else{this.renderer.draw(i)}e=i;return this}.bind(this);this.disableAnimation=function(){d.animate.enabled=false;return this};this.enableAnimation=function(){d.animate.enabled=true;return this};h()};return b}));