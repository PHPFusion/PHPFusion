(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(require("jquery")):typeof define==="function"&&define.amd?define(["jquery"],a):(a(b.jQuery))}(this,(function(a2){a2=a2&&a2.hasOwnProperty("default")?a2["default"]:a2;var b4=(function(){function e(cm,co,cn,cp){this.markup=cm;this.children=co;this.options=cn;this.callback=cp}e.prototype.render=function(co){var cn=a2(this.markup);if(this.options&&this.options.contents){cn.html(this.options.contents)}if(this.options&&this.options.className){cn.addClass(this.options.className)}if(this.options&&this.options.data){a2.each(this.options.data,function(cq,cp){cn.attr("data-"+cq,cp)})}if(this.options&&this.options.click){cn.on("click",this.options.click)}if(this.children){var cm=cn.find(".note-children-container");this.children.forEach(function(cp){cp.render(cm.length?cm:cn)})}if(this.callback){this.callback(cn,this.options)}if(this.options&&this.options.callback){this.options.callback(cn)}if(co){co.append(cn)}return cn};return e}());var aM={create:function(e,cm){return function(){var cn=typeof arguments[1]==="object"?arguments[1]:arguments[0];var co=a2.isArray(arguments[0])?arguments[0]:[];if(cn&&cn.children){co=cn.children}return new b4(e,co,cn,cm)}}};var L=aM.create('<div class="note-editor note-frame card"/>');var k=aM.create('<div class="note-toolbar-wrapper"><div class="note-toolbar card-header" role="toolbar"></div></div>');var af=aM.create('<div class="note-editing-area"/>');var W=aM.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>');var a0=aM.create('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>');var bY=aM.create(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <output class="note-status-output" aria-live="polite"></output>','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join(""));var a6=aM.create('<div class="note-editor"/>');var cl=aM.create(['<output class="note-status-output" aria-live="polite"/>','<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'].join(""));var w=aM.create('<div class="note-btn-group btn-group">');var bJ=aM.create('<div class="dropdown-menu" role="list">',function(cm,cn){var e=a2.isArray(cn.items)?cn.items.map(function(cq){var cs=(typeof cq==="string")?cq:(cq.value||"");var cp=cn.template?cn.template(cq):cq;var co=(typeof cq==="object")?cq.option:undefined;var ct='data-value="'+cs+'"';var cr=(co!==undefined)?' data-option="'+co+'"':"";return'<a class="dropdown-item" href="#" '+(ct+cr)+' role="listitem" aria-label="'+cq+'">'+cp+"</a>"}).join(""):cn.items;cm.html(e).attr({"aria-label":cn.title})});var b0=function(e){return e};var b9=aM.create('<div class="dropdown-menu note-check" role="list">',function(cm,cn){var e=a2.isArray(cn.items)?cn.items.map(function(cp){var cq=(typeof cp==="string")?cp:(cp.value||"");var co=cn.template?cn.template(cp):cp;return'<a class="dropdown-item" href="#" data-value="'+cq+'" role="listitem" aria-label="'+cp+'">'+s(cn.checkClassName)+" "+co+"</a>"}).join(""):cn.items;cm.html(e).attr({"aria-label":cn.title})});var I=aM.create('<div class="note-color-palette"/>',function(cm,cx){var co=[];for(var cw=0,ct=cx.colors.length;cw<ct;cw++){var cq=cx.eventName;var e=cx.colors[cw];var cu=cx.colorsName[cw];var cr=[];for(var cn=0,cs=e.length;cn<cs;cn++){var cp=e[cn];var cv=cu[cn];cr.push(['<button type="button" class="note-color-btn"','style="background-color:',cp,'" ','data-event="',cq,'" ','data-value="',cp,'" ','title="',cv,'" ','aria-label="',cv,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}co.push('<div class="note-color-row">'+cr.join("")+"</div>")}cm.html(co.join(""));if(cx.tooltip){cm.find(".note-color-btn").tooltip({container:cx.container,trigger:"hover",placement:"bottom"})}});var b2=aM.create('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(e,cm){if(cm.fade){e.addClass("fade")}e.attr({"aria-label":cm.title});e.html(['<div class="modal-dialog">','  <div class="modal-content">',(cm.title?'    <div class="modal-header">      <h4 class="modal-title">'+cm.title+'</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>    </div>':""),'    <div class="modal-body">'+cm.body+"</div>",(cm.footer?'    <div class="modal-footer">'+cm.footer+"</div>":""),"  </div>","</div>"].join(""))});var f=aM.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,cm){var cn=typeof cm.direction!=="undefined"?cm.direction:"bottom";e.addClass(cn);if(cm.hideArrow){e.find(".arrow").hide()}});var aO=aM.create('<label class="custom-control custom-checkbox"></label>',function(e,cm){if(cm.id){e.attr("for",cm.id)}e.html([' <input role="checkbox" type="checkbox" class="custom-control-input"'+(cm.id?' id="'+cm.id+'"':""),(cm.checked?" checked":""),' aria-checked="'+(cm.checked?"true":"false")+'"/>',' <span class="custom-control-indicator"></span>',' <span class="custom-control-description">'+(cm.text?cm.text:"")+"</span>","</label>"].join(""))});var s=function(cm,e){e=e||"i";return"<"+e+' class="'+cm+'"/>'};var R={editor:L,toolbar:k,editingArea:af,codable:W,editable:a0,statusbar:bY,airEditor:a6,airEditable:cl,buttonGroup:w,dropdown:bJ,dropdownButtonContents:b0,dropdownCheck:b9,palette:I,dialog:b2,popover:f,icon:s,checkbox:aO,options:{},button:function(e,cm){return aM.create('<button type="button" class="note-btn btn btn-light btn-sm" role="button" tabindex="-1">',function(cn,co){if(co&&co.tooltip){cn.attr({title:co.tooltip,"aria-label":co.tooltip}).tooltip({container:co.container,trigger:"hover",placement:"bottom"})}})(e,cm)},toggleBtn:function(cm,e){cm.toggleClass("disabled",!e);cm.attr("disabled",!e)},toggleBtnActive:function(cm,e){cm.toggleClass("active",e)},onDialogShown:function(cm,e){cm.one("shown.bs.modal",e)},onDialogHidden:function(cm,e){cm.one("hidden.bs.modal",e)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,cm){var cn=(cm.airMode?R.airEditor([R.editingArea([R.airEditable()])]):R.editor([R.toolbar(),R.editingArea([R.codable(),R.editable()]),R.statusbar()])).render();cn.insertAfter(e);return{note:e,editor:cn,toolbar:cn.find(".note-toolbar"),editingArea:cn.find(".note-editing-area"),editable:cn.find(".note-editable"),codable:cn.find(".note-codable"),statusbar:cn.find(".note-statusbar")}},removeLayout:function(e,cm){e.html(cm.editable.html());cm.editor.remove();e.show()}};function aK(e){return function(cm){return e===cm}}function aa(cm,e){return cm===e}function aP(e){return function(cn,cm){return cn[e]===cm[e]}}function br(){return true}function b5(){return false}function bo(e){return function(){return !e.apply(e,arguments)}}function aw(cm,e){return function(cn){return cm(cn)&&e(cn)}}function aD(e){return e}function C(e,cm){return function(){return e[cm].apply(e,arguments)}}var ba=0;function bm(e){var cm=++ba+"";return e?e+cm:cm}function aX(e){var cm=$(document);return{top:e.top+cm.scrollTop(),left:e.left+cm.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}}function aq(cn){var e={};for(var cm in cn){if(cn.hasOwnProperty(cm)){e[cn[cm]]=cm}}return e}function bE(e,cm){cm=cm||"";return cm+e.split(".").map(function(cn){return cn.substring(0,1).toUpperCase()+cn.substring(1)}).join("")}function bK(cm,co,e){var cp=this;var cn;return function(){var ct=cp;var cs=arguments;var cr=function(){cn=null;if(!e){cm.apply(ct,cs)}};var cq=e&&!cn;clearTimeout(cn);cn=setTimeout(cr,co);if(cq){cm.apply(ct,cs)}}}var al={eq:aK,eq2:aa,peq2:aP,ok:br,fail:b5,self:aD,not:bo,and:aw,invoke:C,uniqueId:bm,rect2bnd:aX,invertObject:aq,namespaceToCamel:bE,debounce:bK};function a(e){return e[0]}function at(e){return e[e.length-1]}function cd(e){return e.slice(0,e.length-1)}function ch(e){return e.slice(1)}function aA(cp,cn){for(var cm=0,e=cp.length;cm<e;cm++){var co=cp[cm];if(cn(co)){return co}}}function aR(co,cn){for(var cm=0,e=co.length;cm<e;cm++){if(!cn(co[cm])){return false}}return true}function ca(cm,e){return a2.inArray(e,cm)}function X(cm,e){return ca(cm,e)!==-1}function bh(cm,e){e=e||al.self;return cm.reduce(function(co,cn){return co+e(cn)},0)}function bH(co){var cm=[];var cn=co.length;var e=-1;while(++e<cn){cm[e]=co[e]}return cm}function V(e){return !e||!e.length}function E(cn,e){if(!cn.length){return[]}var cm=ch(cn);return cm.reduce(function(cq,cp){var co=at(cq);if(e(at(co),cp)){co[co.length]=cp}else{cq[cq.length]=[cp]}return cq},[[a(cn)]])}function G(co){var cn=[];for(var cm=0,e=co.length;cm<e;cm++){if(co[cm]){cn.push(co[cm])}}return cn}function a1(co){var cn=[];for(var cm=0,e=co.length;cm<e;cm++){if(!X(cn,co[cm])){cn.push(co[cm])}}return cn}function ao(cn,cm){var e=ca(cn,cm);if(e===-1){return null}return cn[e+1]}function bw(cn,cm){var e=ca(cn,cm);if(e===-1){return null}return cn[e-1]}var n={head:a,last:at,initial:cd,tail:ch,prev:bw,next:ao,find:aA,contains:X,all:aR,sum:bh,from:bH,isEmpty:V,clusterBy:E,compact:G,unique:a1};var aJ=typeof define==="function"&&define.amd;function bZ(cn){var cp=cn==="Comic Sans MS"?"Courier New":"Comic Sans MS";var e=a2("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body);var co=e.css("fontFamily",cp).width();var cm=e.css("fontFamily",cn+","+cp).width();e.remove();return co!==cm}var A=navigator.userAgent;var cg=/MSIE|Trident/i.test(A);var bR;if(cg){var bU=/MSIE (\d+[.]\d+)/.exec(A);if(bU){bR=parseFloat(bU[1])}bU=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(A);if(bU){bR=parseFloat(bU[1])}}var p=/Edge\/\d+/.test(A);var Z=!!window.CodeMirror;if(!Z&&aJ){if(typeof __webpack_require__==="function"){try{require.resolve("codemirror");Z=true}catch(bq){}}else{if(typeof require!=="undefined"){if(typeof require.resolve!=="undefined"){try{require.resolve("codemirror");Z=true}catch(bq){}}else{if(typeof require.specified!=="undefined"){Z=require.specified("codemirror")}}}}}var d=(("ontouchstart" in window)||(navigator.MaxTouchPoints>0)||(navigator.msMaxTouchPoints>0));var ar=(cg||p)?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";var ai={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:cg,isEdge:p,isFF:!p&&/firefox/i.test(A),isPhantom:/PhantomJS/i.test(A),isWebkit:!p&&/webkit/i.test(A),isChrome:!p&&/chrome/i.test(A),isSafari:!p&&/safari/i.test(A),browserVersion:bR,jqueryVersion:parseFloat(a2.fn.jquery),isSupportAmd:aJ,isSupportTouch:d,hasCodeMirror:Z,isFontInstalled:bZ,isW3CRangeSupport:!!document.createRange,inputEventName:ar};var aT=String.fromCharCode(160);var Y="\ufeff";function bT(e){return e&&a2(e).hasClass("note-editable")}function b3(e){return e&&a2(e).hasClass("note-control-sizing")}function bA(e){e=e.toUpperCase();return function(cm){return cm&&cm.nodeName.toUpperCase()===e}}function an(e){return e&&e.nodeType===3}function a3(e){return e&&e.nodeType===1}function ck(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(e.nodeName.toUpperCase())}function v(e){if(bT(e)){return false}return e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())}function bV(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())}var u=bA("PRE");var bG=bA("LI");function bd(e){return v(e)&&!bG(e)}var bs=bA("TABLE");var ae=bA("DATA");function aS(e){return !J(e)&&!h(e)&&!r(e)&&!v(e)&&!bs(e)&&!aj(e)&&!ae(e)}function h(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}var r=bA("HR");function bk(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}var aj=bA("BLOCKQUOTE");function J(e){return bk(e)||aj(e)||bT(e)}var cj=bA("A");function bO(e){return aS(e)&&!!ab(e,v)}function P(e){return aS(e)&&!ab(e,v)}var b=bA("BODY");function b8(cm,e){return cm.nextSibling===e||cm.previousSibling===e}function j(cm,e){e=e||al.ok;var cn=[];if(cm.previousSibling&&e(cm.previousSibling)){cn.push(cm.previousSibling)}cn.push(cm);if(cm.nextSibling&&e(cm.nextSibling)){cn.push(cm.nextSibling)}return cn}var bQ=ai.isMSIE&&ai.browserVersion<11?"&nbsp;":"<br>";function bp(e){if(an(e)){return e.nodeValue.length}if(e){return e.childNodes.length}return 0}function bu(cm){var e=bp(cm);if(e===0){return true}else{if(!an(cm)&&e===1&&cm.innerHTML===bQ){return true}else{if(n.all(cm.childNodes,an)&&cm.innerHTML===""){return true}}}return false}function bI(e){if(!ck(e)&&!bp(e)){e.innerHTML=bQ}}function ab(cm,e){while(cm){if(e(cm)){return cm}if(bT(cm)){break}cm=cm.parentNode}return null}function b7(cm,e){cm=cm.parentNode;while(cm){if(bp(cm)!==1){break}if(e(cm)){return cm}if(bT(cm)){break}cm=cm.parentNode}return null}function bS(cn,e){e=e||al.fail;var cm=[];ab(cn,function(co){if(!bT(co)){cm.push(co)}return e(co)});return cm}function U(cn,e){var cm=bS(cn);return n.last(cm.filter(e))}function aW(cn,cm){var e=bS(cn);for(var co=cm;co;co=co.parentNode){if(a2.inArray(co,e)>-1){return co}}return null}function bX(cn,cm){cm=cm||al.fail;var e=[];while(cn){if(cm(cn)){break}e.push(cn);cn=cn.previousSibling}return e}function aI(cn,cm){cm=cm||al.fail;var e=[];while(cn){if(cm(cn)){break}e.push(cn);cn=cn.nextSibling}return e}function z(cm,e){var co=[];e=e||al.ok;(function cn(cr){if(cm!==cr&&e(cr)){co.push(cr)}for(var cq=0,cp=cr.childNodes.length;cq<cp;cq++){cn(cr.childNodes[cq])}})(cm);return co}function aU(cn,cm){var e=cn.parentNode;var co=a2("<"+cm+">")[0];e.insertBefore(co,cn);co.appendChild(cn);return co}function aB(co,cn){var cm=cn.nextSibling;var e=cn.parentNode;if(cm){e.insertBefore(co,cm)}else{e.appendChild(co)}return co}function a5(e,cm){a2.each(cm,function(cn,co){e.appendChild(co)});return e}function aF(e){return e.offset===0}function am(e){return e.offset===bp(e.node)}function a8(e){return aF(e)||am(e)}function cb(cm,e){while(cm&&cm!==e){if(aV(cm)!==0){return false}cm=cm.parentNode}return true}function ax(cm,e){if(!e){return false}while(cm&&cm!==e){if(aV(cm)!==bp(cm.parentNode)-1){return false}cm=cm.parentNode}return true}function Q(e,cm){return aF(e)&&cb(e.node,cm)}function aQ(e,cm){return am(e)&&ax(e.node,cm)}function aV(e){var cm=0;while((e=e.previousSibling)){cm+=1}return cm}function bf(e){return !!(e&&e.childNodes&&e.childNodes.length)}function by(e,cm){var cn;var co;if(e.offset===0){if(bT(e.node)){return null}cn=e.node.parentNode;co=aV(e.node)}else{if(bf(e.node)){cn=e.node.childNodes[e.offset-1];co=bp(cn)}else{cn=e.node;co=cm?0:e.offset-1}}return{node:cn,offset:co}}function O(e,cm){var cn,co;if(bp(e.node)===e.offset){if(bT(e.node)){return null}cn=e.node.parentNode;co=aV(e.node)+1}else{if(bf(e.node)){cn=e.node.childNodes[e.offset];co=0}else{cn=e.node;co=cm?bp(e.node):e.offset+1}}return{node:cn,offset:co}}function D(e,cm){return e.node===cm.node&&e.offset===cm.offset}function b6(e){if(an(e.node)||!bf(e.node)||bu(e.node)){return true}var cn=e.node.childNodes[e.offset-1];var cm=e.node.childNodes[e.offset];if((!cn||ck(cn))&&(!cm||ck(cm))){return true}return false}function N(e,cm){while(e){if(cm(e)){return e}e=by(e)}return null}function bL(e,cm){while(e){if(cm(e)){return e}e=O(e)}return null}function a9(e){if(!an(e.node)){return false}var cm=e.node.nodeValue.charAt(e.offset-1);return cm&&(cm!==" "&&cm!==aT)}function b1(cq,cn,co,cm){var e=cq;while(e){co(e);if(D(e,cn)){break}var cp=cm&&cq.node!==e.node&&cn.node!==e.node;e=O(e,cp)}}function ay(e,cn){var cm=bS(cn,al.eq(e));return cm.map(aV).reverse()}function bM(cn,co){var cp=cn;for(var cm=0,e=co.length;cm<e;cm++){if(cp.childNodes.length<=co[cm]){cp=cp.childNodes[cp.childNodes.length-1]}else{cp=cp.childNodes[co[cm]]}}return cp}function q(e,cn){var cp=cn&&cn.isSkipPaddingBlankHTML;var cm=cn&&cn.isNotSplitEdgePoint;if(a8(e)&&(an(e.node)||cm)){if(aF(e)){return e.node}else{if(am(e)){return e.node.nextSibling}}}if(an(e.node)){return e.node.splitText(e.offset)}else{var co=e.node.childNodes[e.offset];var cq=aB(e.node.cloneNode(false),e.node);a5(cq,aI(co));if(!cp){bI(e.node);bI(cq)}return cq}}function bC(cm,e,cn){var co=bS(e.node,al.eq(cm));if(!co.length){return null}else{if(co.length===1){return q(e,cn)}}return co.reduce(function(cq,cp){if(cq===e.node){cq=q(e,cn)}return q({node:cp,offset:cq?aV(cq):bp(cp)},cn)})}function bF(e,cq){var co=cq?v:J;var cp=bS(e.node,co);var cs=n.last(cp)||e.node;var cr,cn;if(co(cs)){cr=cp[cp.length-2];cn=cs}else{cr=cs;cn=cr.parentNode}var cm=cr&&bC(cr,e,{isSkipPaddingBlankHTML:cq,isNotSplitEdgePoint:cq});if(!cm&&cn===e.node){cm=e.node.childNodes[e.offset]}return{rightNode:cm,container:cn}}function K(e){return document.createElement(e)}function ah(e){return document.createTextNode(e)}function F(cp,cq){if(!cp||!cp.parentNode){return}if(cp.removeNode){return cp.removeNode(cq)}var co=cp.parentNode;if(!cq){var cm=[];for(var cn=0,e=cp.childNodes.length;cn<e;cn++){cm.push(cp.childNodes[cn])}for(var cn=0,e=cm.length;cn<e;cn++){co.insertBefore(cm[cn],cp)}}co.removeChild(cp)}function be(cn,e){while(cn){if(bT(cn)||!e(cn)){break}var cm=cn.parentNode;F(cn);cn=cm}}function aZ(cm,cn){if(cm.nodeName.toUpperCase()===cn.toUpperCase()){return cm}var e=K(cn);if(cm.style.cssText){e.style.cssText=cm.style.cssText}a5(e,n.from(cm.childNodes));aB(e,cm);F(cm);return e}var aY=bA("TEXTAREA");function g(cm,e){var cn=aY(cm[0])?cm.val():cm.html();if(e){return cn.replace(/[\n\r]/g,"")}return cn}function ak(cm,cn){var e=g(cm);if(cn){var co=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;e=e.replace(co,function(cq,ct,cp){cp=cp.toUpperCase();var cs=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(cp)&&!!ct;var cr=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(cp);return cq+((cs||cr)?"\n":"")});e=a2.trim(e)}return e}function bz(cn){var cm=a2(cn);var co=cm.offset();var e=cm.outerHeight(true);return{left:co.left,top:co.top+e}}function bB(e,cm){Object.keys(cm).forEach(function(cn){e.on(cn,cm[cn])})}function bD(e,cm){Object.keys(cm).forEach(function(cn){e.off(cn,cm[cn])})}function T(e){return e&&!an(e)&&n.contains(e.classList,"note-styletag")}var bN={NBSP_CHAR:aT,ZERO_WIDTH_NBSP_CHAR:Y,blank:bQ,emptyPara:"<p>"+bQ+"</p>",makePredByNodeName:bA,isEditable:bT,isControlSizing:b3,isText:an,isElement:a3,isVoid:ck,isPara:v,isPurePara:bd,isHeading:bV,isInline:aS,isBlock:al.not(aS),isBodyInline:P,isBody:b,isParaInline:bO,isPre:u,isList:h,isTable:bs,isData:ae,isCell:bk,isBlockquote:aj,isBodyContainer:J,isAnchor:cj,isDiv:bA("DIV"),isLi:bG,isBR:bA("BR"),isSpan:bA("SPAN"),isB:bA("B"),isU:bA("U"),isS:bA("S"),isI:bA("I"),isImg:bA("IMG"),isTextarea:aY,isEmpty:bu,isEmptyAnchor:al.and(cj,bu),isClosestSibling:b8,withClosestSiblings:j,nodeLength:bp,isLeftEdgePoint:aF,isRightEdgePoint:am,isEdgePoint:a8,isLeftEdgeOf:cb,isRightEdgeOf:ax,isLeftEdgePointOf:Q,isRightEdgePointOf:aQ,prevPoint:by,nextPoint:O,isSamePoint:D,isVisiblePoint:b6,prevPointUntil:N,nextPointUntil:bL,isCharPoint:a9,walkPoint:b1,ancestor:ab,singleChildAncestor:b7,listAncestor:bS,lastAncestor:U,listNext:aI,listPrev:bX,listDescendant:z,commonAncestor:aW,wrap:aU,insertAfter:aB,appendChildNodes:a5,position:aV,hasChildren:bf,makeOffsetPath:ay,fromOffsetPath:bM,splitTree:bC,splitPoint:bF,create:K,createText:ah,remove:F,removeWhile:be,replace:aZ,html:ak,value:g,posFromPlaceholder:bz,attachEvents:bB,detachEvents:bD,isCustomStyleTag:T};a2.summernote=a2.summernote||{lang:{}};a2.extend(a2.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var cf={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};var i={isEdit:function(e){return n.contains([cf.BACKSPACE,cf.TAB,cf.ENTER,cf.SPACE,cf.DELETE],e)},isMove:function(e){return n.contains([cf.LEFT,cf.UP,cf.RIGHT,cf.DOWN],e)},nameFromCode:al.invertObject(cf),code:cf};function cc(cv,e){var co=cv.parentElement();var cq;var cu=document.body.createTextRange();var cs;var ct=n.from(co.childNodes);for(cq=0;cq<ct.length;cq++){if(bN.isText(ct[cq])){continue}cu.moveToElementText(ct[cq]);if(cu.compareEndPoints("StartToStart",cv)>=0){break}cs=ct[cq]}if(cq!==0&&bN.isText(ct[cq-1])){var cw=document.body.createTextRange();var cr=null;cw.moveToElementText(cs||co);cw.collapse(!cs);cr=cs?cs.nextSibling:co.firstChild;var cn=cv.duplicate();cn.setEndPoint("StartToStart",cw);var cm=cn.text.replace(/[\r\n]/g,"").length;while(cm>cr.nodeValue.length&&cr.nextSibling){cm-=cr.nodeValue.length;cr=cr.nextSibling}var cp=cr.nodeValue;if(e&&cr.nextSibling&&bN.isText(cr.nextSibling)&&cm===cr.nodeValue.length){cm-=cr.nodeValue.length;cr=cr.nextSibling}co=cr;cq=cm}return{cont:co,offset:cq}}function bc(e){var co=function(cr,cu){var ct,cq;if(bN.isText(cr)){var cp=bN.listPrev(cr,al.not(bN.isText));var cs=n.last(cp).previousSibling;ct=cs||cr.parentNode;cu+=n.sum(n.tail(cp),bN.nodeLength);cq=!cs}else{ct=cr.childNodes[cu]||cr;if(bN.isText(ct)){return co(ct,0)}cu=0;cq=false}return{node:ct,collapseToStart:cq,offset:cu}};var cm=document.body.createTextRange();var cn=co(e.node,e.offset);cm.moveToElementText(cn.node);cm.collapse(cn.collapseToStart);cm.moveStart("character",cn.offset);return cm}var ce=(function(){function e(cp,co,cn,cm){this.sc=cp;this.so=co;this.ec=cn;this.eo=cm;this.isOnEditable=this.makeIsOn(bN.isEditable);this.isOnList=this.makeIsOn(bN.isList);this.isOnAnchor=this.makeIsOn(bN.isAnchor);this.isOnCell=this.makeIsOn(bN.isCell);this.isOnData=this.makeIsOn(bN.isData)}e.prototype.nativeRange=function(){if(ai.isW3CRangeSupport){var cm=document.createRange();cm.setStart(this.sc,this.so);cm.setEnd(this.ec,this.eo);return cm}else{var cn=bc({node:this.sc,offset:this.so});cn.setEndPoint("EndToEnd",bc({node:this.ec,offset:this.eo}));return cn}};e.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}};e.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}};e.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}};e.prototype.select=function(){var cn=this.nativeRange();if(ai.isW3CRangeSupport){var cm=document.getSelection();if(cm.rangeCount>0){cm.removeAllRanges()}cm.addRange(cn)}else{cn.select()}return this};e.prototype.scrollIntoView=function(cn){var cm=a2(cn).height();if(cn.scrollTop+cm<this.sc.offsetTop){cn.scrollTop+=Math.abs(cn.scrollTop+cm-this.sc.offsetTop)}return this};e.prototype.normalize=function(){var co=function(cp,cq){if((bN.isVisiblePoint(cp)&&!bN.isEdgePoint(cp))||(bN.isVisiblePoint(cp)&&bN.isRightEdgePoint(cp)&&!cq)||(bN.isVisiblePoint(cp)&&bN.isLeftEdgePoint(cp)&&cq)||(bN.isVisiblePoint(cp)&&bN.isBlock(cp.node)&&bN.isEmpty(cp.node))){return cp}var cs=bN.ancestor(cp.node,bN.isBlock);if(((bN.isLeftEdgePointOf(cp,cs)||bN.isVoid(bN.prevPoint(cp).node))&&!cq)||((bN.isRightEdgePointOf(cp,cs)||bN.isVoid(bN.nextPoint(cp).node))&&cq)){if(bN.isVisiblePoint(cp)){return cp}cq=!cq}var cr=cq?bN.nextPointUntil(bN.nextPoint(cp),bN.isVisiblePoint):bN.prevPointUntil(bN.prevPoint(cp),bN.isVisiblePoint);return cr||cp};var cm=co(this.getEndPoint(),false);var cn=this.isCollapsed()?cm:co(this.getStartPoint(),true);return new e(cn.node,cn.offset,cm.node,cm.offset)};e.prototype.nodes=function(co,cp){co=co||al.ok;var cm=cp&&cp.includeAncestor;var ct=cp&&cp.fullyContains;var cr=this.getStartPoint();var cq=this.getEndPoint();var cn=[];var cs=[];bN.walkPoint(cr,cq,function(cu){if(bN.isEditable(cu.node)){return}var cv;if(ct){if(bN.isLeftEdgePoint(cu)){cs.push(cu.node)}if(bN.isRightEdgePoint(cu)&&n.contains(cs,cu.node)){cv=cu.node}}else{if(cm){cv=bN.ancestor(cu.node,co)}else{cv=cu.node}}if(cv&&co(cv)){cn.push(cv)}},true);return n.unique(cn)};e.prototype.commonAncestor=function(){return bN.commonAncestor(this.sc,this.ec)};e.prototype.expand=function(cm){var co=bN.ancestor(this.sc,cm);var cp=bN.ancestor(this.ec,cm);if(!co&&!cp){return new e(this.sc,this.so,this.ec,this.eo)}var cn=this.getPoints();if(co){cn.sc=co;cn.so=0}if(cp){cn.ec=cp;cn.eo=bN.nodeLength(cp)}return new e(cn.sc,cn.so,cn.ec,cn.eo)};e.prototype.collapse=function(cm){if(cm){return new e(this.sc,this.so,this.sc,this.so)}else{return new e(this.ec,this.eo,this.ec,this.eo)}};e.prototype.splitText=function(){var cm=this.sc===this.ec;var cn=this.getPoints();if(bN.isText(this.ec)&&!bN.isEdgePoint(this.getEndPoint())){this.ec.splitText(this.eo)}if(bN.isText(this.sc)&&!bN.isEdgePoint(this.getStartPoint())){cn.sc=this.sc.splitText(this.so);cn.so=0;if(cm){cn.ec=cn.sc;cn.eo=this.eo-this.so}}return new e(cn.sc,cn.so,cn.ec,cn.eo)};e.prototype.deleteContents=function(){if(this.isCollapsed()){return this}var cn=this.splitText();var co=cn.nodes(null,{fullyContains:true});var cm=bN.prevPointUntil(cn.getStartPoint(),function(cq){return !n.contains(co,cq.node)});var cp=[];a2.each(co,function(cq,cs){var cr=cs.parentNode;if(cm.node!==cr&&bN.nodeLength(cr)===1){cp.push(cr)}bN.remove(cs,false)});a2.each(cp,function(cq,cr){bN.remove(cr,false)});return new e(cm.node,cm.offset,cm.node,cm.offset).normalize()};e.prototype.makeIsOn=function(cm){return function(){var cn=bN.ancestor(this.sc,cm);return !!cn&&(cn===bN.ancestor(this.ec,cm))}};e.prototype.isLeftEdgeOf=function(cm){if(!bN.isLeftEdgePoint(this.getStartPoint())){return false}var cn=bN.ancestor(this.sc,cm);return cn&&bN.isLeftEdgeOf(this.sc,cn)};e.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo};e.prototype.wrapBodyInlineWithPara=function(){if(bN.isBodyContainer(this.sc)&&bN.isEmpty(this.sc)){this.sc.innerHTML=bN.emptyPara;return new e(this.sc.firstChild,0,this.sc.firstChild,0)}var cn=this.normalize();if(bN.isParaInline(this.sc)||bN.isPara(this.sc)){return cn}var cq;if(bN.isInline(cn.sc)){var co=bN.listAncestor(cn.sc,al.not(bN.isInline));cq=n.last(co);if(!bN.isInline(cq)){cq=co[co.length-2]||cn.sc.childNodes[cn.so]}}else{cq=cn.sc.childNodes[cn.so>0?cn.so-1:0]}var cp=bN.listPrev(cq,bN.isParaInline).reverse();cp=cp.concat(bN.listNext(cq.nextSibling,bN.isParaInline));if(cp.length){var cm=bN.wrap(n.head(cp),"p");bN.appendChildNodes(cm,n.tail(cp))}return this.normalize()};e.prototype.insertNode=function(cn){var cm=this.wrapBodyInlineWithPara().deleteContents();var co=bN.splitPoint(cm.getStartPoint(),bN.isInline(cn));if(co.rightNode){co.rightNode.parentNode.insertBefore(cn,co.rightNode)}else{co.container.appendChild(cn)}return cn};e.prototype.pasteHTML=function(co){var cn=a2("<div></div>").html(co)[0];var cp=n.from(cn.childNodes);var cm=this.wrapBodyInlineWithPara().deleteContents();return cp.reverse().map(function(cq){return cm.insertNode(cq)}).reverse()};e.prototype.toString=function(){var cm=this.nativeRange();return ai.isW3CRangeSupport?cm.toString():cm.text};e.prototype.getWordRange=function(co){var cm=this.getEndPoint();if(!bN.isCharPoint(cm)){return this}var cn=bN.prevPointUntil(cm,function(cp){return !bN.isCharPoint(cp)});if(co){cm=bN.nextPointUntil(cm,function(cp){return !bN.isCharPoint(cp)})}return new e(cn.node,cn.offset,cm.node,cm.offset)};e.prototype.bookmark=function(cm){return{s:{path:bN.makeOffsetPath(cm,this.sc),offset:this.so},e:{path:bN.makeOffsetPath(cm,this.ec),offset:this.eo}}};e.prototype.paraBookmark=function(cm){return{s:{path:n.tail(bN.makeOffsetPath(n.head(cm),this.sc)),offset:this.so},e:{path:n.tail(bN.makeOffsetPath(n.last(cm),this.ec)),offset:this.eo}}};e.prototype.getClientRects=function(){var cm=this.nativeRange();return cm.getClientRects()};return e}());var S={create:function(cp,co,cn,cm){if(arguments.length===4){return new ce(cp,co,cn,cm)}else{if(arguments.length===2){cn=cp;cm=co;return new ce(cp,co,cn,cm)}else{var e=this.createFromSelection();if(!e&&arguments.length===1){e=this.createFromNode(arguments[0]);return e.collapse(bN.emptyPara===arguments[0].innerHTML)}return e}}},createFromSelection:function(){var cq,cn,cp,e;if(ai.isW3CRangeSupport){var ct=document.getSelection();if(!ct||ct.rangeCount===0){return null}else{if(bN.isBody(ct.anchorNode)){return null}}var cs=ct.getRangeAt(0);cq=cs.startContainer;cn=cs.startOffset;cp=cs.endContainer;e=cs.endOffset}else{var cv=document.selection.createRange();var co=cv.duplicate();co.collapse(false);var cu=cv;cu.collapse(true);var cm=cc(cu,true);var cr=cc(co,false);if(bN.isText(cm.node)&&bN.isLeftEdgePoint(cm)&&bN.isTextNode(cr.node)&&bN.isRightEdgePoint(cr)&&cr.node.nextSibling===cm.node){cm=cr}cq=cm.cont;cn=cm.offset;cp=cr.cont;e=cr.offset}return new ce(cq,cn,cp,e)},createFromNode:function(cn){var cp=cn;var co=0;var cm=cn;var e=bN.nodeLength(cm);if(bN.isVoid(cp)){co=bN.listPrev(cp).length-1;cp=cp.parentNode}if(bN.isBR(cm)){e=bN.listPrev(cm).length-1;cm=cm.parentNode}else{if(bN.isVoid(cm)){e=bN.listPrev(cm).length;cm=cm.parentNode}}return this.create(cp,co,cm,e)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(true)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(cn,co){var cq=bN.fromOffsetPath(cn,co.s.path);var cp=co.s.offset;var cm=bN.fromOffsetPath(cn,co.e.path);var e=co.e.offset;return new ce(cq,cp,cm,e)},createFromParaBookmark:function(co,cn){var cp=co.s.offset;var e=co.e.offset;var cq=bN.fromOffsetPath(n.head(cn),co.s.path);var cm=bN.fromOffsetPath(n.last(cn),co.e.path);return new ce(cq,cp,cm,e)}};function az(e){return a2.Deferred(function(cm){a2.extend(new FileReader(),{onload:function(cn){var co=cn.target.result;cm.resolve(co)},onerror:function(cn){cm.reject(cn)}}).readAsDataURL(e)}).promise()}function aL(e){return a2.Deferred(function(cm){var cn=a2("<img>");cn.one("load",function(){cn.off("error abort");cm.resolve(cn)}).one("error abort",function(){cn.off("load").detach();cm.reject(cn)}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()}var o=(function(){function e(cm){this.stack=[];this.stackOffset=-1;this.$editable=cm;this.editable=cm[0]}e.prototype.makeSnapshot=function(){var cm=S.create(this.editable);var cn={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:(cm?cm.bookmark(this.editable):cn)}};e.prototype.applySnapshot=function(cm){if(cm.contents!==null){this.$editable.html(cm.contents)}if(cm.bookmark!==null){S.createFromBookmark(this.editable,cm.bookmark).select()}};e.prototype.rewind=function(){if(this.$editable.html()!==this.stack[this.stackOffset].contents){this.recordUndo()}this.stackOffset=0;this.applySnapshot(this.stack[this.stackOffset])};e.prototype.reset=function(){this.stack=[];this.stackOffset=-1;this.$editable.html("");this.recordUndo()};e.prototype.undo=function(){if(this.$editable.html()!==this.stack[this.stackOffset].contents){this.recordUndo()}if(this.stackOffset>0){this.stackOffset--;this.applySnapshot(this.stack[this.stackOffset])}};e.prototype.redo=function(){if(this.stack.length-1>this.stackOffset){this.stackOffset++;this.applySnapshot(this.stack[this.stackOffset])}};e.prototype.recordUndo=function(){this.stackOffset++;if(this.stack.length>this.stackOffset){this.stack=this.stack.slice(0,this.stackOffset)}this.stack.push(this.makeSnapshot())};return e}());var y=(function(){function e(){}e.prototype.jQueryCSS=function(co,cm){if(ai.jqueryVersion<1.9){var cn={};a2.each(cm,function(cp,cq){cn[cq]=co.css(cq)});return cn}return co.css(cm)};e.prototype.fromNode=function(cm){var cn=["font-family","font-size","text-align","list-style-type","line-height"];var co=this.jQueryCSS(cm,cn)||{};co["font-size"]=parseInt(co["font-size"],10);return co};e.prototype.stylePara=function(cm,cn){a2.each(cm.nodes(bN.isPara,{includeAncestor:true}),function(cp,co){a2(co).css(cn)})};e.prototype.styleNodes=function(cm,cq){cm=cm.splitText();var ct=(cq&&cq.nodeName)||"SPAN";var cr=!!(cq&&cq.expandClosestSibling);var cp=!!(cq&&cq.onlyPartialContains);if(cm.isCollapsed()){return[cm.insertNode(bN.create(ct))]}var co=bN.makePredByNodeName(ct);var cn=cm.nodes(bN.isText,{fullyContains:true}).map(function(cu){return bN.singleChildAncestor(cu,co)||bN.wrap(cu,ct)});if(cr){if(cp){var cs=cm.nodes();co=al.and(co,function(cu){return n.contains(cs,cu)})}return cn.map(function(cv){var cx=bN.withClosestSiblings(cv,co);var cu=n.head(cx);var cw=n.tail(cx);a2.each(cw,function(cy,cz){bN.appendChildNodes(cu,cz.childNodes);bN.remove(cz)});return n.head(cx)})}else{return cn}};e.prototype.current=function(cn){var cr=a2(!bN.isElement(cn.sc)?cn.sc.parentNode:cn.sc);var ct=this.fromNode(cr);try{ct=a2.extend(ct,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||ct["font-family"]})}catch(cs){}if(!cn.isOnList()){ct["list-style"]="none"}else{var co=["circle","disc","disc-leading-zero","square"];var cp=a2.inArray(ct["list-style-type"],co)>-1;ct["list-style"]=cp?"unordered":"ordered"}var cm=bN.ancestor(cn.sc,bN.isPara);if(cm&&cm.style["line-height"]){ct["line-height"]=cm.style.lineHeight}else{var cq=parseInt(ct["line-height"],10)/parseInt(ct["font-size"],10);ct["line-height"]=cq.toFixed(1)}ct.anchor=cn.isOnAnchor()&&bN.ancestor(cn.sc,bN.isAnchor);ct.ancestors=bN.listAncestor(cn.sc,bN.isEditable);ct.range=cn;return ct};return e}());var c=(function(){function e(){}e.prototype.insertOrderedList=function(cm){this.toggleList("OL",cm)};e.prototype.insertUnorderedList=function(cm){this.toggleList("UL",cm)};e.prototype.indent=function(co){var cq=this;var cm=S.create(co).wrapBodyInlineWithPara();var cn=cm.nodes(bN.isPara,{includeAncestor:true});var cp=n.clusterBy(cn,al.peq2("parentNode"));a2.each(cp,function(cr,cs){var ct=n.head(cs);if(bN.isLi(ct)){cq.wrapList(cs,ct.parentNode.nodeName)}else{a2.each(cs,function(cv,cu){a2(cu).css("marginLeft",function(cw,cx){return(parseInt(cx,10)||0)+25})})}});cm.select()};e.prototype.outdent=function(co){var cq=this;var cm=S.create(co).wrapBodyInlineWithPara();var cn=cm.nodes(bN.isPara,{includeAncestor:true});var cp=n.clusterBy(cn,al.peq2("parentNode"));a2.each(cp,function(cr,cs){var ct=n.head(cs);if(bN.isLi(ct)){cq.releaseList([cs])}else{a2.each(cs,function(cv,cu){a2(cu).css("marginLeft",function(cw,cx){cx=(parseInt(cx,10)||0);return cx>25?cx-25:""})})}});cm.select()};e.prototype.toggleList=function(co,cp){var cr=this;var cm=S.create(cp).wrapBodyInlineWithPara();var cu=cm.nodes(bN.isPara,{includeAncestor:true});var cs=cm.paraBookmark(cu);var cn=n.clusterBy(cu,al.peq2("parentNode"));if(n.find(cu,bN.isPurePara)){var cq=[];a2.each(cn,function(cv,cw){cq=cq.concat(cr.wrapList(cw,co))});cu=cq}else{var ct=cm.nodes(bN.isList,{includeAncestor:true}).filter(function(cv){return !a2.nodeName(cv,co)});if(ct.length){a2.each(ct,function(cv,cw){bN.replace(cw,co)})}else{cu=this.releaseList(cn,true)}}S.createFromParaBookmark(cs,cu).select()};e.prototype.wrapList=function(cp,co){var cq=n.head(cp);var cs=n.last(cp);var cn=bN.isList(cq.previousSibling)&&cq.previousSibling;var cm=bN.isList(cs.nextSibling)&&cs.nextSibling;var cr=cn||bN.insertAfter(bN.create(co||"UL"),cs);cp=cp.map(function(ct){return bN.isPurePara(ct)?bN.replace(ct,"LI"):ct});bN.appendChildNodes(cr,cp);if(cm){bN.appendChildNodes(cr,n.from(cm.childNodes));bN.remove(cm)}return cp};e.prototype.releaseList=function(co,cm){var cn=[];a2.each(co,function(cp,cq){var cr=n.head(cq);var cs=n.last(cq);var cv=cm?bN.lastAncestor(cr,bN.isList):cr.parentNode;var cu=cv.childNodes.length>1?bN.splitTree(cv,{node:cs.parentNode,offset:bN.position(cs)+1},{isSkipPaddingBlankHTML:true}):null;var ct=bN.splitTree(cv,{node:cr.parentNode,offset:bN.position(cr)},{isSkipPaddingBlankHTML:true});cq=cm?bN.listDescendant(ct,bN.isLi):n.from(ct.childNodes).filter(bN.isLi);if(cm||!bN.isList(cv.parentNode)){cq=cq.map(function(cx){return bN.replace(cx,"P")})}a2.each(n.from(cq).reverse(),function(cy,cx){bN.insertAfter(cx,cv)});var cw=n.compact([cv,ct,cu]);a2.each(cw,function(cx,cy){var cz=[cy].concat(bN.listDescendant(cy,bN.isList));a2.each(cz.reverse(),function(cA,cB){if(!bN.nodeLength(cB)){bN.remove(cB,true)}})});cn=cn.concat(cq)});return cn};return e}());var B=(function(){function e(){this.bullet=new c()}e.prototype.insertTab=function(cn,cm){var co=bN.createText(new Array(cm+1).join(bN.NBSP_CHAR));cn=cn.deleteContents();cn.insertNode(co,true);cn=S.create(co,cm);cn.select()};e.prototype.insertParagraph=function(co){var cn=S.create(co);cn=cn.deleteContents();cn=cn.wrapBodyInlineWithPara();var cr=bN.ancestor(cn.sc,bN.isPara);var cq;if(cr){if(bN.isEmpty(cr)&&bN.isLi(cr)){this.bullet.toggleList(cr.parentNode.nodeName);return}else{if(bN.isEmpty(cr)&&bN.isPara(cr)&&bN.isBlockquote(cr.parentNode)){bN.insertAfter(cr,cr.parentNode);cq=cr}else{cq=bN.splitTree(cr,cn.getStartPoint());var cm=bN.listDescendant(cr,bN.isEmptyAnchor);cm=cm.concat(bN.listDescendant(cq,bN.isEmptyAnchor));a2.each(cm,function(cs,ct){bN.remove(ct)});if((bN.isHeading(cq)||bN.isPre(cq)||bN.isCustomStyleTag(cq))&&bN.isEmpty(cq)){cq=bN.replace(cq,"p")}}}}else{var cp=cn.sc.childNodes[cn.so];cq=a2(bN.emptyPara)[0];if(cp){cn.sc.insertBefore(cq,cp)}else{cn.sc.appendChild(cq)}}S.create(cq,0).normalize().select().scrollIntoView(co)};return e}());var a4=function(e,cr,co,cq){var cm={colPos:0,rowPos:0};var cs=[];var cu=[];function cx(){if(!e||!e.tagName||(e.tagName.toLowerCase()!=="td"&&e.tagName.toLowerCase()!=="th")){console.error("Impossible to identify start Cell point.",e);return}cm.colPos=e.cellIndex;if(!e.parentElement||!e.parentElement.tagName||e.parentElement.tagName.toLowerCase()!=="tr"){console.error("Impossible to identify start Row point.",e);return}cm.rowPos=e.parentElement.rowIndex}function cw(cJ,cG,cE,cF,cI,cD,cC){var cH={baseRow:cE,baseCell:cF,isRowSpan:cI,isColSpan:cD,isVirtual:cC};if(!cs[cJ]){cs[cJ]=[]}cs[cJ][cG]=cH}function cA(cF,cC,cD,cE){return{baseCell:cF.baseCell,action:cC,virtualTable:{rowIndex:cD,cellIndex:cE}}}function cn(cE,cC){if(!cs[cE]){return cC}if(!cs[cE][cC]){return cC}var cD=cC;while(cs[cE][cD]){cD++;if(!cs[cE][cD]){return cD}}}function cv(cN,cM){var cK=cn(cN.rowIndex,cM.cellIndex);var cE=(cM.colSpan>1);var cG=(cM.rowSpan>1);var cL=(cN.rowIndex===cm.rowPos&&cM.cellIndex===cm.colPos);cw(cN.rowIndex,cK,cN,cM,cG,cE,false);var cD=cM.attributes.rowSpan?parseInt(cM.attributes.rowSpan.value,10):0;if(cD>1){for(var cH=1;cH<cD;cH++){var cC=cN.rowIndex+cH;cB(cC,cK,cM,cL);cw(cC,cK,cN,cM,true,cE,true)}}var cF=cM.attributes.colSpan?parseInt(cM.attributes.colSpan.value,10):0;if(cF>1){for(var cJ=1;cJ<cF;cJ++){var cI=cn(cN.rowIndex,(cK+cJ));cB(cN.rowIndex,cI,cM,cL);cw(cN.rowIndex,cI,cN,cM,cG,true,true)}}}function cB(cF,cD,cC,cE){if(cF===cm.rowPos&&cm.colPos>=cC.cellIndex&&cC.cellIndex<=cD&&!cE){cm.colPos++}}function cy(){var cE=cq.rows;for(var cF=0;cF<cE.length;cF++){var cD=cE[cF].cells;for(var cC=0;cC<cD.length;cC++){cv(cE[cF],cD[cC])}}}function ct(cC){switch(cr){case a4.where.Column:if(cC.isColSpan){return a4.resultAction.SubtractSpanCount}break;case a4.where.Row:if(!cC.isVirtual&&cC.isRowSpan){return a4.resultAction.AddCell}else{if(cC.isRowSpan){return a4.resultAction.SubtractSpanCount}}break}return a4.resultAction.RemoveCell}function cp(cC){switch(cr){case a4.where.Column:if(cC.isColSpan){return a4.resultAction.SumSpanCount}else{if(cC.isRowSpan&&cC.isVirtual){return a4.resultAction.Ignore}}break;case a4.where.Row:if(cC.isRowSpan){return a4.resultAction.SumSpanCount}else{if(cC.isColSpan&&cC.isVirtual){return a4.resultAction.Ignore}}break}return a4.resultAction.AddCell}function cz(){cx();cy()}this.getActionList=function(){var cE=(cr===a4.where.Row)?cm.rowPos:-1;var cH=(cr===a4.where.Column)?cm.colPos:-1;var cG=0;var cI=true;while(cI){var cD=(cE>=0)?cE:cG;var cF=(cH>=0)?cH:cG;var cK=cs[cD];if(!cK){cI=false;return cu}var cJ=cK[cF];if(!cJ){cI=false;return cu}var cC=a4.resultAction.Ignore;switch(co){case a4.requestAction.Add:cC=cp(cJ);break;case a4.requestAction.Delete:cC=ct(cJ);break}cu.push(cA(cJ,cC,cD,cF));cG++}return cu};cz()};a4.where={Row:0,Column:1};a4.requestAction={Add:0,Delete:1};a4.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var av=(function(){function e(){}e.prototype.tab=function(cn,cp){var cm=bN.ancestor(cn.commonAncestor(),bN.isCell);var cr=bN.ancestor(cm,bN.isTable);var co=bN.listDescendant(cr,bN.isCell);var cq=n[cp?"prev":"next"](co,cm);if(cq){S.create(cq,0).select()}};e.prototype.addRow=function(cm,cv){var cA=bN.ancestor(cm.commonAncestor(),bN.isCell);var cp=a2(cA).closest("tr");var cC=this.recoverAttributes(cp);var cu=a2("<tr"+cC+"></tr>");var cB=new a4(cA,a4.where.Row,a4.requestAction.Add,a2(cp).closest("table")[0]);var cs=cB.getActionList();for(var cz=0;cz<cs.length;cz++){var cy=cs[cz];var cx=this.recoverAttributes(cy.baseCell);switch(cy.action){case a4.resultAction.AddCell:cu.append("<td"+cx+">"+bN.blank+"</td>");break;case a4.resultAction.SumSpanCount:if(cv==="top"){var co=cy.baseCell.parent;var cw=(!co?0:cy.baseCell.closest("tr").rowIndex)<=cp[0].rowIndex;if(cw){var cr=a2("<div></div>").append(a2("<td"+cx+">"+bN.blank+"</td>").removeAttr("rowspan")).html();cu.append(cr);break}}var cn=parseInt(cy.baseCell.rowSpan,10);cn++;cy.baseCell.setAttribute("rowSpan",cn);break}}if(cv==="top"){cp.before(cu)}else{var cq=(cA.rowSpan>1);if(cq){var ct=cp[0].rowIndex+(cA.rowSpan-2);a2(a2(cp).parent().find("tr")[ct]).after(a2(cu));return}cp.after(cu)}};e.prototype.addCol=function(cm,cp){var cu=bN.ancestor(cm.commonAncestor(),bN.isCell);var cw=a2(cu).closest("tr");var cs=a2(cw).siblings();cs.push(cw);var cv=new a4(cu,a4.where.Column,a4.requestAction.Add,a2(cw).closest("table")[0]);var co=cv.getActionList();for(var ct=0;ct<co.length;ct++){var cr=co[ct];var cq=this.recoverAttributes(cr.baseCell);switch(cr.action){case a4.resultAction.AddCell:if(cp==="right"){a2(cr.baseCell).after("<td"+cq+">"+bN.blank+"</td>")}else{a2(cr.baseCell).before("<td"+cq+">"+bN.blank+"</td>")}break;case a4.resultAction.SumSpanCount:if(cp==="right"){var cn=parseInt(cr.baseCell.colSpan,10);cn++;cr.baseCell.setAttribute("colSpan",cn)}else{a2(cr.baseCell).before("<td"+cq+">"+bN.blank+"</td>")}break}}};e.prototype.recoverAttributes=function(co){var cn="";if(!co){return cn}var cp=co.attributes||[];for(var cm=0;cm<cp.length;cm++){if(cp[cm].name.toLowerCase()==="id"){continue}if(cp[cm].specified){cn+=" "+cp[cm].name+"='"+cp[cm].value+"'"}}return cn};e.prototype.deleteRow=function(co){var cu=bN.ancestor(co.commonAncestor(),bN.isCell);var cz=a2(cu).closest("tr");var cx=cz.children("td, th").index(a2(cu));var cn=cz[0].rowIndex;var cw=new a4(cu,a4.where.Row,a4.requestAction.Delete,a2(cz).closest("table")[0]);var cr=cw.getActionList();for(var ct=0;ct<cr.length;ct++){if(!cr[ct]){continue}var cs=cr[ct].baseCell;var cq=cr[ct].virtualTable;var cm=(cs.rowSpan&&cs.rowSpan>1);var cp=(cm)?parseInt(cs.rowSpan,10):0;switch(cr[ct].action){case a4.resultAction.Ignore:continue;case a4.resultAction.AddCell:var cv=cz.next("tr")[0];if(!cv){continue}var cy=cz[0].cells[cx];if(cm){if(cp>2){cp--;cv.insertBefore(cy,cv.cells[cx]);cv.cells[cx].setAttribute("rowSpan",cp);cv.cells[cx].innerHTML=""}else{if(cp===2){cv.insertBefore(cy,cv.cells[cx]);cv.cells[cx].removeAttribute("rowSpan");cv.cells[cx].innerHTML=""}}}continue;case a4.resultAction.SubtractSpanCount:if(cm){if(cp>2){cp--;cs.setAttribute("rowSpan",cp);if(cq.rowIndex!==cn&&cs.cellIndex===cx){cs.innerHTML=""}}else{if(cp===2){cs.removeAttribute("rowSpan");if(cq.rowIndex!==cn&&cs.cellIndex===cx){cs.innerHTML=""}}}}continue;case a4.resultAction.RemoveCell:continue}}cz.remove()};e.prototype.deleteCol=function(cm){var cr=bN.ancestor(cm.commonAncestor(),bN.isCell);var cv=a2(cr).closest("tr");var cu=cv.children("td, th").index(a2(cr));var ct=new a4(cr,a4.where.Column,a4.requestAction.Delete,a2(cv).closest("table")[0]);var co=ct.getActionList();for(var cq=0;cq<co.length;cq++){if(!co[cq]){continue}switch(co[cq].action){case a4.resultAction.Ignore:continue;case a4.resultAction.SubtractSpanCount:var cp=co[cq].baseCell;var cs=(cp.colSpan&&cp.colSpan>1);if(cs){var cn=(cp.colSpan)?parseInt(cp.colSpan,10):0;if(cn>2){cn--;cp.setAttribute("colSpan",cn);if(cp.cellIndex===cu){cp.innerHTML=""}}else{if(cn===2){cp.removeAttribute("colSpan");if(cp.cellIndex===cu){cp.innerHTML=""}}}}continue;case a4.resultAction.RemoveCell:bN.remove(co[cq].baseCell,true);continue}}};e.prototype.createTable=function(ct,cs,cv){var cp=[];var co;for(var cq=0;cq<ct;cq++){cp.push("<td>"+bN.blank+"</td>")}co=cp.join("");var cr=[];var cm;for(var cn=0;cn<cs;cn++){cr.push("<tr>"+co+"</tr>")}cm=cr.join("");var cu=a2("<table>"+cm+"</table>");if(cv&&cv.tableClassName){cu.addClass(cv.tableClassName)}return cu[0]};e.prototype.deleteTable=function(cn){var cm=bN.ancestor(cn.commonAncestor(),bN.isCell);a2(cm).closest("table").remove()};return e}());var ci="bogus";var l=(function(){function e(cp){var cq=this;this.context=cp;this.$note=cp.layoutInfo.note;this.$editor=cp.layoutInfo.editor;this.$editable=cp.layoutInfo.editable;this.options=cp.options;this.lang=this.options.langInfo;this.editable=this.$editable[0];this.lastRange=null;this.style=new y();this.table=new av();this.typing=new B();this.bullet=new c();this.history=new o(this.$editable);this.context.memo("help.undo",this.lang.help.undo);this.context.memo("help.redo",this.lang.help.redo);this.context.memo("help.tab",this.lang.help.tab);this.context.memo("help.untab",this.lang.help.untab);this.context.memo("help.insertParagraph",this.lang.help.insertParagraph);this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList);this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList);this.context.memo("help.indent",this.lang.help.indent);this.context.memo("help.outdent",this.lang.help.outdent);this.context.memo("help.formatPara",this.lang.help.formatPara);this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule);this.context.memo("help.fontName",this.lang.help.fontName);var co=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"];for(var cn=0,cm=co.length;cn<cm;cn++){this[co[cn]]=(function(cr){return function(cs){cq.beforeCommand();document.execCommand(cr,false,cs);cq.afterCommand(true)}})(co[cn]);this.context.memo("help."+co[cn],this.lang.help[co[cn]])}this.fontName=this.wrapCommand(function(cr){return cq.fontStyling("font-family","'"+cr+"'")});this.fontSize=this.wrapCommand(function(cr){return cq.fontStyling("font-size",cr+"px")});for(var cn=1;cn<=6;cn++){this["formatH"+cn]=(function(cr){return function(){cq.formatBlock("H"+cr)}})(cn);this.context.memo("help.formatH"+cn,this.lang.help["formatH"+cn])}this.insertParagraph=this.wrapCommand(function(){cq.typing.insertParagraph(cq.editable)});this.insertOrderedList=this.wrapCommand(function(){cq.bullet.insertOrderedList(cq.editable)});this.insertUnorderedList=this.wrapCommand(function(){cq.bullet.insertUnorderedList(cq.editable)});this.indent=this.wrapCommand(function(){cq.bullet.indent(cq.editable)});this.outdent=this.wrapCommand(function(){cq.bullet.outdent(cq.editable)});this.insertNode=this.wrapCommand(function(cs){if(cq.isLimited(a2(cs).text().length)){return}var cr=cq.createRange();cr.insertNode(cs);S.createFromNodeAfter(cs).select()});this.insertText=this.wrapCommand(function(ct){if(cq.isLimited(ct.length)){return}var cr=cq.createRange();var cs=cr.insertNode(bN.createText(ct));S.create(cs,bN.nodeLength(cs)).select()});this.pasteHTML=this.wrapCommand(function(cr){if(cq.isLimited(cr.length)){return}var cs=cq.createRange().pasteHTML(cr);S.createFromNodeAfter(n.last(cs)).select()});this.formatBlock=this.wrapCommand(function(ct,cr){var cs=cq.options.callbacks.onApplyCustomStyle;if(cs){cs.call(cq,cr,cq.context,cq.onFormatBlock)}else{cq.onFormatBlock(ct,cr)}});this.insertHorizontalRule=this.wrapCommand(function(){var cr=cq.createRange().insertNode(bN.create("HR"));if(cr.nextSibling){S.create(cr.nextSibling,0).normalize().select()}});this.lineHeight=this.wrapCommand(function(cr){cq.style.stylePara(cq.createRange(),{lineHeight:cr})});this.createLink=this.wrapCommand(function(cx){var cy=cx.url;var cu=cx.text;var cB=cx.isNewWindow;var cr=cx.range||cq.createRange();var cC=cr.toString()!==cu;if(typeof cy==="string"){cy=cy.trim()}if(cq.options.onCreateLink){cy=cq.options.onCreateLink(cy)}else{cy=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(cy)?cy:"http://"+cy}var cs=[];if(cC){cr=cr.deleteContents();var cw=cr.insertNode(a2("<A>"+cu+"</A>")[0]);cs.push(cw)}else{cs=cq.style.styleNodes(cr,{nodeName:"A",expandClosestSibling:true,onlyPartialContains:true})}a2.each(cs,function(cD,cE){a2(cE).attr("href",cy);if(cB){a2(cE).attr("target","_blank")}else{a2(cE).removeAttr("target")}});var cA=S.createFromNodeBefore(n.head(cs));var ct=cA.getStartPoint();var cv=S.createFromNodeAfter(n.last(cs));var cz=cv.getEndPoint();S.create(ct.node,ct.offset,cz.node,cz.offset).select()});this.color=this.wrapCommand(function(cs){var ct=cs.foreColor;var cr=cs.backColor;if(ct){document.execCommand("foreColor",false,ct)}if(cr){document.execCommand("backColor",false,cr)}});this.foreColor=this.wrapCommand(function(cr){document.execCommand("styleWithCSS",false,true);document.execCommand("foreColor",false,cr)});this.insertTable=this.wrapCommand(function(ct){var cs=ct.split("x");var cr=cq.createRange().deleteContents();cr.insertNode(cq.table.createTable(cs[0],cs[1],cq.options))});this.removeMedia=this.wrapCommand(function(){var cr=a2(cq.restoreTarget()).parent();if(cr.parent("figure").length){cr.parent("figure").remove()}else{cr=a2(cq.restoreTarget()).detach()}cq.context.triggerEvent("media.delete",cr,cq.$editable)});this.floatMe=this.wrapCommand(function(cs){var cr=a2(cq.restoreTarget());cr.toggleClass("note-float-left",cs==="left");cr.toggleClass("note-float-right",cs==="right");cr.css("float",cs)});this.resize=this.wrapCommand(function(cs){var cr=a2(cq.restoreTarget());cr.css({width:cs*100+"%",height:""})})}e.prototype.initialize=function(){var cm=this;this.$editable.on("keydown",function(cn){if(cn.keyCode===i.code.ENTER){cm.context.triggerEvent("enter",cn)}cm.context.triggerEvent("keydown",cn);if(!cn.isDefaultPrevented()){if(cm.options.shortcuts){cm.handleKeyMap(cn)}else{cm.preventDefaultEditableShortCuts(cn)}}if(cm.isLimited(1,cn)){return false}}).on("keyup",function(cn){cm.context.triggerEvent("keyup",cn)}).on("focus",function(cn){cm.context.triggerEvent("focus",cn)}).on("blur",function(cn){cm.context.triggerEvent("blur",cn)}).on("mousedown",function(cn){cm.context.triggerEvent("mousedown",cn)}).on("mouseup",function(cn){cm.context.triggerEvent("mouseup",cn)}).on("scroll",function(cn){cm.context.triggerEvent("scroll",cn)}).on("paste",function(cn){cm.context.triggerEvent("paste",cn)});this.$editable.html(bN.html(this.$note)||bN.emptyPara);this.$editable.on(ai.inputEventName,al.debounce(function(){cm.context.triggerEvent("change",cm.$editable.html())},100));this.$editor.on("focusin",function(cn){cm.context.triggerEvent("focusin",cn)}).on("focusout",function(cn){cm.context.triggerEvent("focusout",cn)});if(!this.options.airMode){if(this.options.width){this.$editor.outerWidth(this.options.width)}if(this.options.height){this.$editable.outerHeight(this.options.height)}if(this.options.maxHeight){this.$editable.css("max-height",this.options.maxHeight)}if(this.options.minHeight){this.$editable.css("min-height",this.options.minHeight)}}this.history.recordUndo()};e.prototype.destroy=function(){this.$editable.off()};e.prototype.handleKeyMap=function(cp){var cq=this.options.keyMap[ai.isMac?"mac":"pc"];var co=[];if(cp.metaKey){co.push("CMD")}if(cp.ctrlKey&&!cp.altKey){co.push("CTRL")}if(cp.shiftKey){co.push("SHIFT")}var cn=i.nameFromCode[cp.keyCode];if(cn){co.push(cn)}var cm=cq[co.join("+")];if(cm){if(this.context.invoke(cm)!==false){cp.preventDefault()}}else{if(i.isEdit(cp.keyCode)){this.afterCommand()}}};e.prototype.preventDefaultEditableShortCuts=function(cm){if((cm.ctrlKey||cm.metaKey)&&n.contains([66,73,85],cm.keyCode)){cm.preventDefault()}};e.prototype.isLimited=function(cn,cm){cn=cn||0;if(typeof cm!=="undefined"){if(i.isMove(cm.keyCode)||(cm.ctrlKey||cm.metaKey)||n.contains([i.code.BACKSPACE,i.code.DELETE],cm.keyCode)){return false}}if(this.options.maxTextLength>0){if((this.$editable.text().length+cn)>=this.options.maxTextLength){return true}}return false};e.prototype.createRange=function(){this.focus();return S.create(this.editable)};e.prototype.saveRange=function(cm){this.lastRange=this.createRange();if(cm){this.lastRange.collapse().select()}};e.prototype.restoreRange=function(){if(this.lastRange){this.lastRange.select();this.focus()}};e.prototype.saveTarget=function(cm){this.$editable.data("target",cm)};e.prototype.clearTarget=function(){this.$editable.removeData("target")};e.prototype.restoreTarget=function(){return this.$editable.data("target")};e.prototype.currentStyle=function(){var cm=S.create();if(cm){cm=cm.normalize()}return cm?this.style.current(cm):this.style.fromNode(this.$editable)};e.prototype.styleFromNode=function(cm){return this.style.fromNode(cm)};e.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html());this.history.undo();this.context.triggerEvent("change",this.$editable.html())};e.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html());this.history.redo();this.context.triggerEvent("change",this.$editable.html())};e.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html());this.focus()};e.prototype.afterCommand=function(cm){this.normalizeContent();this.history.recordUndo();if(!cm){this.context.triggerEvent("change",this.$editable.html())}};e.prototype.tab=function(){var cm=this.createRange();if(cm.isCollapsed()&&cm.isOnCell()){this.table.tab(cm)}else{if(this.options.tabSize===0){return false}if(!this.isLimited(this.options.tabSize)){this.beforeCommand();this.typing.insertTab(cm,this.options.tabSize);this.afterCommand()}}};e.prototype.untab=function(){var cm=this.createRange();if(cm.isCollapsed()&&cm.isOnCell()){this.table.tab(cm,true)}else{if(this.options.tabSize===0){return false}}};e.prototype.wrapCommand=function(cm){var cn=this;return function(){cn.beforeCommand();cm.apply(cn,arguments);cn.afterCommand()}};e.prototype.insertImage=function(cn,cm){var co=this;return aL(cn,cm).then(function(cp){co.beforeCommand();if(typeof cm==="function"){cm(cp)}else{if(typeof cm==="string"){cp.attr("data-filename",cm)}cp.css("width",Math.min(co.$editable.width(),cp.width()))}cp.show();S.create(co.editable).insertNode(cp[0]);S.createFromNodeAfter(cp[0]).select();co.afterCommand()}).fail(function(cp){co.context.triggerEvent("image.upload.error",cp)})};e.prototype.insertImages=function(cm){var cn=this;a2.each(cm,function(co,cq){var cp=cq.name;if(cn.options.maximumImageFileSize&&cn.options.maximumImageFileSize<cq.size){cn.context.triggerEvent("image.upload.error",cn.lang.image.maximumFileSizeError)}else{az(cq).then(function(cr){return cn.insertImage(cr,cp)}).fail(function(){cn.context.triggerEvent("image.upload.error")})}})};e.prototype.insertImagesOrCallback=function(cn){var cm=this.options.callbacks;if(cm.onImageUpload){this.context.triggerEvent("image.upload",cn)}else{this.insertImages(cn)}};e.prototype.getSelectedText=function(){var cm=this.createRange();if(cm.isOnAnchor()){cm=S.createFromNode(bN.ancestor(cm.sc,bN.isAnchor))}return cm.toString()};e.prototype.onFormatBlock=function(co,cn){co=ai.isMSIE?"<"+co+">":co;document.execCommand("FormatBlock",false,co);if(cn&&cn.length){var cp=cn[0].className||"";if(cp){var cm=this.createRange();var cq=a2([cm.sc,cm.ec]).closest(co);cq.addClass(cp)}}};e.prototype.formatPara=function(){this.formatBlock("P")};e.prototype.fontStyling=function(cq,cp){var cm=this.createRange();if(cm){var cn=this.style.styleNodes(cm);a2(cn).css(cq,cp);if(cm.isCollapsed()){var co=n.head(cn);if(co&&!bN.nodeLength(co)){co.innerHTML=bN.ZERO_WIDTH_NBSP_CHAR;S.createFromNodeAfter(co.firstChild).select();this.$editable.data(ci,co)}}}};e.prototype.unlink=function(){var cm=this.createRange();if(cm.isOnAnchor()){var cn=bN.ancestor(cm.sc,bN.isAnchor);cm=S.createFromNode(cn);cm.select();this.beforeCommand();document.execCommand("unlink");this.afterCommand()}};e.prototype.getLinkInfo=function(){var cm=this.createRange().expand(bN.isAnchor);var co=a2(n.head(cm.nodes(bN.isAnchor)));var cn={range:cm,text:cm.toString(),url:co.length?co.attr("href"):""};if(co.length){cn.isNewWindow=co.attr("target")==="_blank"}return cn};e.prototype.addRow=function(cm){var cn=this.createRange(this.$editable);if(cn.isCollapsed()&&cn.isOnCell()){this.beforeCommand();this.table.addRow(cn,cm);this.afterCommand()}};e.prototype.addCol=function(cm){var cn=this.createRange(this.$editable);if(cn.isCollapsed()&&cn.isOnCell()){this.beforeCommand();this.table.addCol(cn,cm);this.afterCommand()}};e.prototype.deleteRow=function(){var cm=this.createRange(this.$editable);if(cm.isCollapsed()&&cm.isOnCell()){this.beforeCommand();this.table.deleteRow(cm);this.afterCommand()}};e.prototype.deleteCol=function(){var cm=this.createRange(this.$editable);if(cm.isCollapsed()&&cm.isOnCell()){this.beforeCommand();this.table.deleteCol(cm);this.afterCommand()}};e.prototype.deleteTable=function(){var cm=this.createRange(this.$editable);if(cm.isCollapsed()&&cm.isOnCell()){this.beforeCommand();this.table.deleteTable(cm);this.afterCommand()}};e.prototype.resizeTo=function(cr,cm,cn){var cq;if(cn){var cp=cr.y/cr.x;var co=cm.data("ratio");cq={width:co>cp?cr.x:cr.y/co,height:co>cp?cr.x*co:cr.y}}else{cq={width:cr.x,height:cr.y}}cm.css(cq)};e.prototype.hasFocus=function(){return this.$editable.is(":focus")};e.prototype.focus=function(){if(!this.hasFocus()){this.$editable.focus()}};e.prototype.isEmpty=function(){return bN.isEmpty(this.$editable[0])||bN.emptyPara===this.$editable.html()};e.prototype.empty=function(){this.context.invoke("code",bN.emptyPara)};e.prototype.normalizeContent=function(){this.$editable[0].normalize()};return e}());var ad=(function(){function e(cm){this.context=cm;this.$editable=cm.layoutInfo.editable}e.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))};e.prototype.pasteByEvent=function(cn){var co=cn.originalEvent.clipboardData;if(co&&co.items&&co.items.length){var cm=n.head(co.items);if(cm.kind==="file"&&cm.type.indexOf("image/")!==-1){this.context.invoke("editor.insertImagesOrCallback",[cm.getAsFile()])}this.context.invoke("editor.afterCommand")}};return e}());var bg=(function(){function e(cm){this.context=cm;this.$eventListener=a2(document);this.$editor=cm.layoutInfo.editor;this.$editable=cm.layoutInfo.editable;this.options=cm.options;this.lang=this.options.langInfo;this.documentEventHandlers={};this.$dropzone=a2(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}e.prototype.initialize=function(){if(this.options.disableDragAndDrop){this.documentEventHandlers.onDrop=function(cm){cm.preventDefault()};this.$eventListener=this.$dropzone;this.$eventListener.on("drop",this.documentEventHandlers.onDrop)}else{this.attachDragAndDropEvent()}};e.prototype.attachDragAndDropEvent=function(){var co=this;var cn=a2();var cm=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(cr){var cq=co.context.invoke("codeview.isActivated");var cp=co.$editor.width()>0&&co.$editor.height()>0;if(!cq&&!cn.length&&cp){co.$editor.addClass("dragover");co.$dropzone.width(co.$editor.width());co.$dropzone.height(co.$editor.height());cm.text(co.lang.image.dragImageHere)}cn=cn.add(cr.target)};this.documentEventHandlers.onDragleave=function(cp){cn=cn.not(cp.target);if(!cn.length){co.$editor.removeClass("dragover")}};this.documentEventHandlers.onDrop=function(){cn=a2();co.$editor.removeClass("dragover")};this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop);this.$dropzone.on("dragenter",function(){co.$dropzone.addClass("hover");cm.text(co.lang.image.dropImage)}).on("dragleave",function(){co.$dropzone.removeClass("hover");cm.text(co.lang.image.dragImageHere)});this.$dropzone.on("drop",function(cp){var cq=cp.originalEvent.dataTransfer;cp.preventDefault();if(cq&&cq.files&&cq.files.length){co.$editable.focus();co.context.invoke("editor.insertImagesOrCallback",cq.files)}else{a2.each(cq.types,function(cr,cs){var ct=cq.getData(cs);if(cs.toLowerCase().indexOf("text")>-1){co.context.invoke("editor.pasteHTML",ct)}else{a2(ct).each(function(cu,cv){co.context.invoke("editor.insertNode",cv)})}})}}).on("dragover",false)};e.prototype.destroy=function(){var cm=this;Object.keys(this.documentEventHandlers).forEach(function(cn){cm.$eventListener.off(cn.substr(2).toLowerCase(),cm.documentEventHandlers[cn])});this.documentEventHandlers={}};return e}());var M;if(ai.hasCodeMirror){if(ai.isSupportAmd){require(["codemirror"],function(e){M=e})}else{M=window.CodeMirror}}var a7=(function(){function e(cm){this.context=cm;this.$editor=cm.layoutInfo.editor;this.$editable=cm.layoutInfo.editable;this.$codable=cm.layoutInfo.codable;this.options=cm.options}e.prototype.sync=function(){var cm=this.isActivated();if(cm&&ai.hasCodeMirror){this.$codable.data("cmEditor").save()}};e.prototype.isActivated=function(){return this.$editor.hasClass("codeview")};e.prototype.toggle=function(){if(this.isActivated()){this.deactivate()}else{this.activate()}this.context.triggerEvent("codeview.toggled")};e.prototype.activate=function(){var co=this;this.$codable.val(bN.html(this.$editable,this.options.prettifyHtml));this.$codable.height(this.$editable.height());this.context.invoke("toolbar.updateCodeview",true);this.$editor.addClass("codeview");this.$codable.focus();if(ai.hasCodeMirror){var cm=M.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var cn=new M.TernServer(this.options.codemirror.tern);cm.ternServer=cn;cm.on("cursorActivity",function(cp){cn.updateArgHints(cp)})}cm.on("blur",function(cp){co.context.triggerEvent("blur.codeview",cm.getValue(),cp)});cm.setSize(null,this.$editable.outerHeight());this.$codable.data("cmEditor",cm)}else{this.$codable.on("blur",function(cp){co.context.triggerEvent("blur.codeview",co.$codable.val(),cp)})}};e.prototype.deactivate=function(){if(ai.hasCodeMirror){var co=this.$codable.data("cmEditor");this.$codable.val(co.getValue());co.toTextArea()}var cn=bN.value(this.$codable,this.options.prettifyHtml)||bN.emptyPara;var cm=this.$editable.html()!==cn;this.$editable.html(cn);this.$editable.height(this.options.height?this.$codable.height():"auto");this.$editor.removeClass("codeview");if(cm){this.context.triggerEvent("change",this.$editable.html(),this.$editable)}this.$editable.focus();this.context.invoke("toolbar.updateCodeview",false)};e.prototype.destroy=function(){if(this.isActivated()){this.deactivate()}};return e}());var bl=24;var aN=(function(){function e(cm){this.$document=a2(document);this.$statusbar=cm.layoutInfo.statusbar;this.$editable=cm.layoutInfo.editable;this.options=cm.options}e.prototype.initialize=function(){var cm=this;if(this.options.airMode||this.options.disableResizeEditor){this.destroy();return}this.$statusbar.on("mousedown",function(co){co.preventDefault();co.stopPropagation();var cn=cm.$editable.offset().top-cm.$document.scrollTop();var cp=function(cr){var cq=cr.clientY-(cn+bl);cq=(cm.options.minheight>0)?Math.max(cq,cm.options.minheight):cq;cq=(cm.options.maxHeight>0)?Math.min(cq,cm.options.maxHeight):cq;cm.$editable.height(cq)};cm.$document.on("mousemove",cp).one("mouseup",function(){cm.$document.off("mousemove",cp)})})};e.prototype.destroy=function(){this.$statusbar.off();this.$statusbar.addClass("locked")};return e}());var bi=(function(){function e(cm){var cn=this;this.context=cm;this.$editor=cm.layoutInfo.editor;this.$toolbar=cm.layoutInfo.toolbar;this.$editable=cm.layoutInfo.editable;this.$codable=cm.layoutInfo.codable;this.$window=a2(window);this.$scrollbar=a2("html, body");this.onResize=function(){cn.resizeTo({h:cn.$window.height()-cn.$toolbar.outerHeight()})}}e.prototype.resizeTo=function(cm){this.$editable.css("height",cm.h);this.$codable.css("height",cm.h);if(this.$codable.data("cmeditor")){this.$codable.data("cmeditor").setsize(null,cm.h)}};e.prototype.toggle=function(){this.$editor.toggleClass("fullscreen");if(this.isFullscreen()){this.$editable.data("orgHeight",this.$editable.css("height"));this.$window.on("resize",this.onResize).trigger("resize");this.$scrollbar.css("overflow","hidden")}else{this.$window.off("resize",this.onResize);this.resizeTo({h:this.$editable.data("orgHeight")});this.$scrollbar.css("overflow","visible")}this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())};e.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")};return e}());var t=(function(){function e(cm){var cn=this;this.context=cm;this.$document=a2(document);this.$editingArea=cm.layoutInfo.editingArea;this.options=cm.options;this.lang=this.options.langInfo;this.events={"summernote.mousedown":function(co,cp){if(cn.update(cp.target)){cp.preventDefault()}},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){cn.update()},"summernote.disable":function(){cn.hide()},"summernote.codeview.toggled":function(){cn.update()}}}e.prototype.initialize=function(){var cm=this;this.$handle=a2(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',(this.options.disableResizeImage?"note-control-holder":"note-control-sizing"),' note-control-se"></div>',(this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>'),"</div>","</div>"].join("")).prependTo(this.$editingArea);this.$handle.on("mousedown",function(cn){if(bN.isControlSizing(cn.target)){cn.preventDefault();cn.stopPropagation();var co=cm.$handle.find(".note-control-selection").data("target");var cr=co.offset();var cq=cm.$document.scrollTop();var cp=function(cs){cm.context.invoke("editor.resizeTo",{x:cs.clientX-cr.left,y:cs.clientY-(cr.top-cq)},co,!cs.shiftKey);cm.update(co[0])};cm.$document.on("mousemove",cp).one("mouseup",function(cs){cs.preventDefault();cm.$document.off("mousemove",cp);cm.context.invoke("editor.afterCommand")});if(!co.data("ratio")){co.data("ratio",co.height()/co.width())}}});this.$handle.on("wheel",function(cn){cn.preventDefault();cm.update()})};e.prototype.destroy=function(){this.$handle.remove()};e.prototype.update=function(cr){if(this.context.isDisabled()){return false}var cn=bN.isImg(cr);var cp=this.$handle.find(".note-control-selection");this.context.invoke("imagePopover.update",cr);if(cn){var co=a2(cr);var cq=co.position();var ct={left:cq.left+parseInt(co.css("marginLeft"),10),top:cq.top+parseInt(co.css("marginTop"),10)};var cs={w:co.outerWidth(false),h:co.outerHeight(false)};cp.css({display:"block",left:ct.left,top:ct.top,width:cs.w,height:cs.h}).data("target",co);var cm=new Image();cm.src=co.attr("src");var cu=cs.w+"x"+cs.h+" ("+this.lang.image.original+": "+cm.width+"x"+cm.height+")";cp.find(".note-control-selection-info").text(cu);this.context.invoke("editor.saveTarget",cr)}else{this.hide()}return cn};e.prototype.hide=function(){this.context.invoke("editor.clearTarget");this.$handle.children().hide()};return e}());var aH="http://";var aG=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;var ag=(function(){function e(cm){var cn=this;this.context=cm;this.events={"summernote.keyup":function(co,cp){if(!cp.isDefaultPrevented()){cn.handleKeyup(cp)}},"summernote.keydown":function(co,cp){cn.handleKeydown(cp)}}}e.prototype.initialize=function(){this.lastWordRange=null};e.prototype.destroy=function(){this.lastWordRange=null};e.prototype.replace=function(){if(!this.lastWordRange){return}var cm=this.lastWordRange.toString();var cn=cm.match(aG);if(cn&&(cn[1]||cn[2])){var cp=cn[1]?cm:aH+cm;var co=a2("<a />").html(cm).attr("href",cp)[0];this.lastWordRange.insertNode(co);this.lastWordRange=null;this.context.invoke("editor.focus")}};e.prototype.handleKeydown=function(cm){if(n.contains([i.code.ENTER,i.code.SPACE],cm.keyCode)){var cn=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=cn}};e.prototype.handleKeyup=function(cm){if(n.contains([i.code.ENTER,i.code.SPACE],cm.keyCode)){this.replace()}};return e}());var bt=(function(){function e(cm){var cn=this;this.$note=cm.layoutInfo.note;this.events={"summernote.change":function(){cn.$note.val(cm.invoke("code"))}}}e.prototype.shouldInitialize=function(){return bN.isTextarea(this.$note[0])};return e}());var aE=(function(){function e(cm){var cn=this;this.context=cm;this.$editingArea=cm.layoutInfo.editingArea;this.options=cm.options;this.events={"summernote.init summernote.change":function(){cn.update()},"summernote.codeview.toggled":function(){cn.update()}}}e.prototype.shouldInitialize=function(){return !!this.options.placeholder};e.prototype.initialize=function(){var cm=this;this.$placeholder=a2('<div class="note-placeholder">');this.$placeholder.on("click",function(){cm.context.invoke("focus")}).text(this.options.placeholder).prependTo(this.$editingArea);this.update()};e.prototype.destroy=function(){this.$placeholder.remove()};e.prototype.update=function(){var cm=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(cm)};return e}());var ap=(function(){function e(cm){this.ui=a2.summernote.ui;this.context=cm;this.$toolbar=cm.layoutInfo.toolbar;this.options=cm.options;this.lang=this.options.langInfo;this.invertedKeyMap=al.invertObject(this.options.keyMap[ai.isMac?"mac":"pc"])}e.prototype.representShortcut=function(cn){var cm=this.invertedKeyMap[cn];if(!this.options.shortcuts||!cm){return""}if(ai.isMac){cm=cm.replace("CMD","").replace("SHIFT","")}cm=cm.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]");return" ("+cm+")"};e.prototype.button=function(cm){if(!this.options.tooltip&&cm.tooltip){delete cm.tooltip}cm.container=this.options.container;return this.ui.button(cm)};e.prototype.initialize=function(){this.addToolbarButtons();this.addImagePopoverButtons();this.addLinkPopoverButtons();this.addTablePopoverButtons();this.fontInstalledMap={}};e.prototype.destroy=function(){delete this.fontInstalledMap};e.prototype.isFontInstalled=function(cm){if(!this.fontInstalledMap.hasOwnProperty(cm)){this.fontInstalledMap[cm]=ai.isFontInstalled(cm)||n.contains(this.options.fontNamesIgnoreCheck,cm)}return this.fontInstalledMap[cm]};e.prototype.isFontDeservedToAdd=function(cm){var cn=["sans-serif","serif","monospace","cursive","fantasy"];cm=cm.toLowerCase();return((cm!=="")&&this.isFontInstalled(cm)&&(a2.inArray(cm,cn)===-1))};e.prototype.addToolbarButtons=function(){var cs=this;this.context.memo("button.style",function(){return cs.ui.buttonGroup([cs.button({className:"dropdown-toggle",contents:cs.ui.dropdownButtonContents(cs.ui.icon(cs.options.icons.magic),cs.options),tooltip:cs.lang.style.style,data:{toggle:"dropdown"}}),cs.ui.dropdown({className:"dropdown-style",items:cs.options.styleTags,title:cs.lang.style.style,template:function(cA){if(typeof cA==="string"){cA={tag:cA,title:(cs.lang.style.hasOwnProperty(cA)?cs.lang.style[cA]:cA)}}var cx=cA.tag;var cB=cA.title;var cz=cA.style?' style="'+cA.style+'" ':"";var cy=cA.className?' class="'+cA.className+'"':"";return"<"+cx+cz+cy+">"+cB+"</"+cx+">"},click:cs.context.createInvokeHandler("editor.formatBlock")})]).render()});var cn=function(cy,cx){var cz=cv.options.styleTags[cy];cv.context.memo("button.style."+cz,function(){return cs.button({className:"note-btn-style-"+cz,contents:'<div data-value="'+cz+'">'+cz.toUpperCase()+"</div>",tooltip:cs.lang.style[cz],click:cs.context.createInvokeHandler("editor.formatBlock")}).render()})};var cv=this;for(var cq=0,co=this.options.styleTags.length;cq<co;cq++){cn(cq,co)}this.context.memo("button.bold",function(){return cs.button({className:"note-btn-bold",contents:cs.ui.icon(cs.options.icons.bold),tooltip:cs.lang.font.bold+cs.representShortcut("bold"),click:cs.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()});this.context.memo("button.italic",function(){return cs.button({className:"note-btn-italic",contents:cs.ui.icon(cs.options.icons.italic),tooltip:cs.lang.font.italic+cs.representShortcut("italic"),click:cs.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()});this.context.memo("button.underline",function(){return cs.button({className:"note-btn-underline",contents:cs.ui.icon(cs.options.icons.underline),tooltip:cs.lang.font.underline+cs.representShortcut("underline"),click:cs.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()});this.context.memo("button.clear",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.eraser),tooltip:cs.lang.font.clear+cs.representShortcut("removeFormat"),click:cs.context.createInvokeHandler("editor.removeFormat")}).render()});this.context.memo("button.strikethrough",function(){return cs.button({className:"note-btn-strikethrough",contents:cs.ui.icon(cs.options.icons.strikethrough),tooltip:cs.lang.font.strikethrough+cs.representShortcut("strikethrough"),click:cs.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()});this.context.memo("button.superscript",function(){return cs.button({className:"note-btn-superscript",contents:cs.ui.icon(cs.options.icons.superscript),tooltip:cs.lang.font.superscript,click:cs.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()});this.context.memo("button.subscript",function(){return cs.button({className:"note-btn-subscript",contents:cs.ui.icon(cs.options.icons.subscript),tooltip:cs.lang.font.subscript,click:cs.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()});this.context.memo("button.fontname",function(){var cx=cs.context.invoke("editor.currentStyle");a2.each(cx["font-family"].split(","),function(cy,cz){cz=cz.trim().replace(/['"]+/g,"");if(cs.isFontDeservedToAdd(cz)){if(a2.inArray(cz,cs.options.fontNames)===-1){cs.options.fontNames.push(cz)}}});return cs.ui.buttonGroup([cs.button({className:"dropdown-toggle",contents:cs.ui.dropdownButtonContents('<span class="note-current-fontname"/>',cs.options),tooltip:cs.lang.font.name,data:{toggle:"dropdown"}}),cs.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:cs.options.icons.menuCheck,items:cs.options.fontNames.filter(cs.isFontInstalled.bind(cs)),title:cs.lang.font.name,template:function(cy){return"<span style=\"font-family: '"+cy+"'\">"+cy+"</span>"},click:cs.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()});this.context.memo("button.fontsize",function(){return cs.ui.buttonGroup([cs.button({className:"dropdown-toggle",contents:cs.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',cs.options),tooltip:cs.lang.font.size,data:{toggle:"dropdown"}}),cs.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:cs.options.icons.menuCheck,items:cs.options.fontSizes,title:cs.lang.font.size,click:cs.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()});this.context.memo("button.color",function(){return cs.ui.buttonGroup({className:"note-color",children:[cs.button({className:"note-current-color-button",contents:cs.ui.icon(cs.options.icons.font+" note-recent-color"),tooltip:cs.lang.color.recent,click:function(cy){var cx=a2(cy.currentTarget);cs.context.invoke("editor.color",{backColor:cx.attr("data-backColor"),foreColor:cx.attr("data-foreColor")})},callback:function(cy){var cx=cy.find(".note-recent-color");cx.css("background-color","#FFFF00");cy.attr("data-backColor","#FFFF00")}}),cs.button({className:"dropdown-toggle",contents:cs.ui.dropdownButtonContents("",cs.options),tooltip:cs.lang.color.more,data:{toggle:"dropdown"}}),cs.ui.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+cs.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',cs.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+cs.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',cs.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(cx){cx.find(".note-holder").each(function(cy,cz){var cA=a2(cz);cA.append(cs.ui.palette({colors:cs.options.colors,colorsName:cs.options.colorsName,eventName:cA.data("event"),container:cs.options.container,tooltip:cs.options.tooltip}).render())})},click:function(cz){var cB=a2(cz.target);var cx=cB.data("event");var cA=cB.data("value");if(cx&&cA){var cy=cx==="backColor"?"background-color":"color";var cD=cB.closest(".note-color").find(".note-recent-color");var cC=cB.closest(".note-color").find(".note-current-color-button");cD.css(cy,cA);cC.attr("data-"+cx,cA);cs.context.invoke("editor."+cx,cA)}}})]}).render()});this.context.memo("button.ul",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.unorderedlist),tooltip:cs.lang.lists.unordered+cs.representShortcut("insertUnorderedList"),click:cs.context.createInvokeHandler("editor.insertUnorderedList")}).render()});this.context.memo("button.ol",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.orderedlist),tooltip:cs.lang.lists.ordered+cs.representShortcut("insertOrderedList"),click:cs.context.createInvokeHandler("editor.insertOrderedList")}).render()});var cr=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")});var cm=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")});var cw=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")});var cu=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")});var ct=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")});var cp=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",al.invoke(cr,"render"));this.context.memo("button.justifyCenter",al.invoke(cm,"render"));this.context.memo("button.justifyRight",al.invoke(cw,"render"));this.context.memo("button.justifyFull",al.invoke(cu,"render"));this.context.memo("button.outdent",al.invoke(ct,"render"));this.context.memo("button.indent",al.invoke(cp,"render"));this.context.memo("button.paragraph",function(){return cs.ui.buttonGroup([cs.button({className:"dropdown-toggle",contents:cs.ui.dropdownButtonContents(cs.ui.icon(cs.options.icons.alignLeft),cs.options),tooltip:cs.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),cs.ui.dropdown([cs.ui.buttonGroup({className:"note-align",children:[cr,cm,cw,cu]}),cs.ui.buttonGroup({className:"note-list",children:[ct,cp]})])]).render()});this.context.memo("button.height",function(){return cs.ui.buttonGroup([cs.button({className:"dropdown-toggle",contents:cs.ui.dropdownButtonContents(cs.ui.icon(cs.options.icons.textHeight),cs.options),tooltip:cs.lang.font.height,data:{toggle:"dropdown"}}),cs.ui.dropdownCheck({items:cs.options.lineHeights,checkClassName:cs.options.icons.menuCheck,className:"dropdown-line-height",title:cs.lang.font.height,click:cs.context.createInvokeHandler("editor.lineHeight")})]).render()});this.context.memo("button.table",function(){return cs.ui.buttonGroup([cs.button({className:"dropdown-toggle",contents:cs.ui.dropdownButtonContents(cs.ui.icon(cs.options.icons.table),cs.options),tooltip:cs.lang.table.table,data:{toggle:"dropdown"}}),cs.ui.dropdown({title:cs.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(cx){var cy=cx.find(".note-dimension-picker-mousecatcher");cy.css({width:cs.options.insertTableMaxSize.col+"em",height:cs.options.insertTableMaxSize.row+"em"}).mousedown(cs.context.createInvokeHandler("editor.insertTable")).on("mousemove",cs.tableMoveHandler.bind(cs))}}).render()});this.context.memo("button.link",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.link),tooltip:cs.lang.link.link+cs.representShortcut("linkDialog.show"),click:cs.context.createInvokeHandler("linkDialog.show")}).render()});this.context.memo("button.picture",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.picture),tooltip:cs.lang.image.image,click:cs.context.createInvokeHandler("imageDialog.show")}).render()});this.context.memo("button.video",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.video),tooltip:cs.lang.video.video,click:cs.context.createInvokeHandler("videoDialog.show")}).render()});this.context.memo("button.hr",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.minus),tooltip:cs.lang.hr.insert+cs.representShortcut("insertHorizontalRule"),click:cs.context.createInvokeHandler("editor.insertHorizontalRule")}).render()});this.context.memo("button.fullscreen",function(){return cs.button({className:"btn-fullscreen",contents:cs.ui.icon(cs.options.icons.arrowsAlt),tooltip:cs.lang.options.fullscreen,click:cs.context.createInvokeHandler("fullscreen.toggle")}).render()});this.context.memo("button.codeview",function(){return cs.button({className:"btn-codeview",contents:cs.ui.icon(cs.options.icons.code),tooltip:cs.lang.options.codeview,click:cs.context.createInvokeHandler("codeview.toggle")}).render()});this.context.memo("button.redo",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.redo),tooltip:cs.lang.history.redo+cs.representShortcut("redo"),click:cs.context.createInvokeHandler("editor.redo")}).render()});this.context.memo("button.undo",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.undo),tooltip:cs.lang.history.undo+cs.representShortcut("undo"),click:cs.context.createInvokeHandler("editor.undo")}).render()});this.context.memo("button.help",function(){return cs.button({contents:cs.ui.icon(cs.options.icons.question),tooltip:cs.lang.options.help,click:cs.context.createInvokeHandler("helpDialog.show")}).render()})};e.prototype.addImagePopoverButtons=function(){var cm=this;this.context.memo("button.imageSize100",function(){return cm.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:cm.lang.image.resizeFull,click:cm.context.createInvokeHandler("editor.resize","1")}).render()});this.context.memo("button.imageSize50",function(){return cm.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:cm.lang.image.resizeHalf,click:cm.context.createInvokeHandler("editor.resize","0.5")}).render()});this.context.memo("button.imageSize25",function(){return cm.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:cm.lang.image.resizeQuarter,click:cm.context.createInvokeHandler("editor.resize","0.25")}).render()});this.context.memo("button.floatLeft",function(){return cm.button({contents:cm.ui.icon(cm.options.icons.alignLeft),tooltip:cm.lang.image.floatLeft,click:cm.context.createInvokeHandler("editor.floatMe","left")}).render()});this.context.memo("button.floatRight",function(){return cm.button({contents:cm.ui.icon(cm.options.icons.alignRight),tooltip:cm.lang.image.floatRight,click:cm.context.createInvokeHandler("editor.floatMe","right")}).render()});this.context.memo("button.floatNone",function(){return cm.button({contents:cm.ui.icon(cm.options.icons.alignJustify),tooltip:cm.lang.image.floatNone,click:cm.context.createInvokeHandler("editor.floatMe","none")}).render()});this.context.memo("button.removeMedia",function(){return cm.button({contents:cm.ui.icon(cm.options.icons.trash),tooltip:cm.lang.image.remove,click:cm.context.createInvokeHandler("editor.removeMedia")}).render()})};e.prototype.addLinkPopoverButtons=function(){var cm=this;this.context.memo("button.linkDialogShow",function(){return cm.button({contents:cm.ui.icon(cm.options.icons.link),tooltip:cm.lang.link.edit,click:cm.context.createInvokeHandler("linkDialog.show")}).render()});this.context.memo("button.unlink",function(){return cm.button({contents:cm.ui.icon(cm.options.icons.unlink),tooltip:cm.lang.link.unlink,click:cm.context.createInvokeHandler("editor.unlink")}).render()})};e.prototype.addTablePopoverButtons=function(){var cm=this;this.context.memo("button.addRowUp",function(){return cm.button({className:"btn-md",contents:cm.ui.icon(cm.options.icons.rowAbove),tooltip:cm.lang.table.addRowAbove,click:cm.context.createInvokeHandler("editor.addRow","top")}).render()});this.context.memo("button.addRowDown",function(){return cm.button({className:"btn-md",contents:cm.ui.icon(cm.options.icons.rowBelow),tooltip:cm.lang.table.addRowBelow,click:cm.context.createInvokeHandler("editor.addRow","bottom")}).render()});this.context.memo("button.addColLeft",function(){return cm.button({className:"btn-md",contents:cm.ui.icon(cm.options.icons.colBefore),tooltip:cm.lang.table.addColLeft,click:cm.context.createInvokeHandler("editor.addCol","left")}).render()});this.context.memo("button.addColRight",function(){return cm.button({className:"btn-md",contents:cm.ui.icon(cm.options.icons.colAfter),tooltip:cm.lang.table.addColRight,click:cm.context.createInvokeHandler("editor.addCol","right")}).render()});this.context.memo("button.deleteRow",function(){return cm.button({className:"btn-md",contents:cm.ui.icon(cm.options.icons.rowRemove),tooltip:cm.lang.table.delRow,click:cm.context.createInvokeHandler("editor.deleteRow")}).render()});this.context.memo("button.deleteCol",function(){return cm.button({className:"btn-md",contents:cm.ui.icon(cm.options.icons.colRemove),tooltip:cm.lang.table.delCol,click:cm.context.createInvokeHandler("editor.deleteCol")}).render()});this.context.memo("button.deleteTable",function(){return cm.button({className:"btn-md",contents:cm.ui.icon(cm.options.icons.trash),tooltip:cm.lang.table.delTable,click:cm.context.createInvokeHandler("editor.deleteTable")}).render()})};e.prototype.build=function(cv,cn){for(var cw=0,cp=cn.length;cw<cp;cw++){var ct=cn[cw];var cu=a2.isArray(ct)?ct[0]:ct;var cq=a2.isArray(ct)?((ct.length===1)?[ct[0]]:ct[1]):[ct];var cs=this.ui.buttonGroup({className:"note-"+cu}).render();for(var cr=0,co=cq.length;cr<co;cr++){var cm=this.context.memo("button."+cq[cr]);if(cm){cs.append(typeof cm==="function"?cm(this.context):cm)}}cs.appendTo(cv)}};e.prototype.updateCurrentStyle=function(cr){var ct=this;var cp=cr||this.$toolbar;var cq=this.context.invoke("editor.currentStyle");this.updateBtnStates(cp,{".note-btn-bold":function(){return cq["font-bold"]==="bold"},".note-btn-italic":function(){return cq["font-italic"]==="italic"},".note-btn-underline":function(){return cq["font-underline"]==="underline"},".note-btn-subscript":function(){return cq["font-subscript"]==="subscript"},".note-btn-superscript":function(){return cq["font-superscript"]==="superscript"},".note-btn-strikethrough":function(){return cq["font-strikethrough"]==="strikethrough"}});if(cq["font-family"]){var cm=cq["font-family"].split(",").map(function(cu){return cu.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")});var cs=n.find(cm,this.isFontInstalled.bind(this));cp.find(".dropdown-fontname a").each(function(cu,cw){var cv=a2(cw);var cx=(cv.data("value")+"")===(cs+"");cv.toggleClass("checked",cx)});cp.find(".note-current-fontname").text(cs).css("font-family",cs)}if(cq["font-size"]){var cn=cq["font-size"];cp.find(".dropdown-fontsize a").each(function(cu,cw){var cv=a2(cw);var cx=(cv.data("value")+"")===(cn+"");cv.toggleClass("checked",cx)});cp.find(".note-current-fontsize").text(cn)}if(cq["line-height"]){var co=cq["line-height"];cp.find(".dropdown-line-height li a").each(function(cu,cv){var cw=(a2(cv).data("value")+"")===(co+"");ct.className=cw?"checked":""})}};e.prototype.updateBtnStates=function(cn,cm){var co=this;a2.each(cm,function(cp,cq){co.ui.toggleBtnActive(cn.find(cp),cq())})};e.prototype.tableMoveHandler=function(cn){var cv=18;var cp=a2(cn.target.parentNode);var co=cp.next();var cu=cp.find(".note-dimension-picker-mousecatcher");var cq=cp.find(".note-dimension-picker-highlighted");var cr=cp.find(".note-dimension-picker-unhighlighted");var ct;if(cn.offsetX===undefined){var cm=a2(cn.target).offset();ct={x:cn.pageX-cm.left,y:cn.pageY-cm.top}}else{ct={x:cn.offsetX,y:cn.offsetY}}var cs={c:Math.ceil(ct.x/cv)||1,r:Math.ceil(ct.y/cv)||1};cq.css({width:cs.c+"em",height:cs.r+"em"});cu.data("value",cs.c+"x"+cs.r);if(cs.c>3&&cs.c<this.options.insertTableMaxSize.col){cr.css({width:cs.c+1+"em"})}if(cs.r>3&&cs.r<this.options.insertTableMaxSize.row){cr.css({height:cs.r+1+"em"})}co.html(cs.c+" x "+cs.r)};return e}());var bv=(function(){function e(cm){this.context=cm;this.$window=a2(window);this.$document=a2(document);this.ui=a2.summernote.ui;this.$note=cm.layoutInfo.note;this.$editor=cm.layoutInfo.editor;this.$toolbar=cm.layoutInfo.toolbar;this.options=cm.options;this.followScroll=this.followScroll.bind(this)}e.prototype.shouldInitialize=function(){return !this.options.airMode};e.prototype.initialize=function(){var cm=this;this.options.toolbar=this.options.toolbar||[];if(!this.options.toolbar.length){this.$toolbar.hide()}else{this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar)}if(this.options.toolbarContainer){this.$toolbar.appendTo(this.options.toolbarContainer)}this.changeContainer(false);this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){cm.context.invoke("buttons.updateCurrentStyle")});this.context.invoke("buttons.updateCurrentStyle");if(this.options.followingToolbar){this.$window.on("scroll resize",this.followScroll)}};e.prototype.destroy=function(){this.$toolbar.children().remove();if(this.options.followingToolbar){this.$window.off("scroll resize",this.followScroll)}};e.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen")){return false}var cm=this.$toolbar.parent(".note-toolbar-wrapper");var cq=this.$editor.outerHeight();var co=this.$editor.width();var ct=this.$toolbar.height();cm.css({height:ct});var cu=0;if(this.options.otherStaticBar){cu=a2(this.options.otherStaticBar).outerHeight()}var cs=this.$document.scrollTop();var cn=this.$editor.offset().top;var cp=cn+cq;var cv=cn-cu;var cr=cp-cu-ct;if((cs>cv)&&(cs<cr)){this.$toolbar.css({position:"fixed",top:cu,width:co})}else{this.$toolbar.css({position:"relative",top:0,width:"100%"})}};e.prototype.changeContainer=function(cm){if(cm){this.$toolbar.prependTo(this.$editor)}else{if(this.options.toolbarContainer){this.$toolbar.appendTo(this.options.toolbarContainer)}}};e.prototype.updateFullscreen=function(cm){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),cm);this.changeContainer(cm)};e.prototype.updateCodeview=function(cm){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),cm);if(cm){this.deactivate()}else{this.activate()}};e.prototype.activate=function(cm){var cn=this.$toolbar.find("button");if(!cm){cn=cn.not(".btn-codeview")}this.ui.toggleBtn(cn,true)};e.prototype.deactivate=function(cm){var cn=this.$toolbar.find("button");if(!cm){cn=cn.not(".btn-codeview")}this.ui.toggleBtn(cn,false)};return e}());var x=(function(){function e(cm){this.context=cm;this.ui=a2.summernote.ui;this.$body=a2(document.body);this.$editor=cm.layoutInfo.editor;this.options=cm.options;this.lang=this.options.langInfo;cm.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}e.prototype.initialize=function(){var co=this.options.dialogsInBody?this.$body:this.$editor;var cm=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control  note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",!this.options.disableLinkTarget?a2("<div/>").append(this.ui.checkbox({id:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:true}).render()).html():""].join("");var cn="btn btn-primary note-btn note-btn-primary note-link-btn";var cp='<button type="submit" href="#" class="'+cn+'" disabled>'+this.lang.link.insert+"</button>";this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:cm,footer:cp}).render().appendTo(co)};e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()};e.prototype.bindEnterKey=function(cn,cm){cn.on("keypress",function(co){if(co.keyCode===i.code.ENTER){co.preventDefault();cm.trigger("click")}})};e.prototype.toggleLinkBtn=function(cm,cn,co){this.ui.toggleBtn(cm,cn.val()&&co.val())};e.prototype.showLinkDialog=function(cm){var cn=this;return a2.Deferred(function(cr){var cq=cn.$dialog.find(".note-link-text");var cs=cn.$dialog.find(".note-link-url");var cp=cn.$dialog.find(".note-link-btn");var co=cn.$dialog.find("input[type=checkbox]");cn.ui.onDialogShown(cn.$dialog,function(){cn.context.triggerEvent("dialog.shown");if(!cm.url){cm.url=cm.text}cq.val(cm.text);var cu=function(){cn.toggleLinkBtn(cp,cq,cs);cm.text=cq.val()};cq.on("input",cu).on("paste",function(){setTimeout(cu,0)});var ct=function(){cn.toggleLinkBtn(cp,cq,cs);if(!cm.text){cq.val(cs.val())}};cs.on("input",ct).on("paste",function(){setTimeout(ct,0)}).val(cm.url);if(!ai.isSupportTouch){cs.trigger("focus")}cn.toggleLinkBtn(cp,cq,cs);cn.bindEnterKey(cs,cp);cn.bindEnterKey(cq,cp);var cv=cm.isNewWindow!==undefined?cm.isNewWindow:cn.context.options.linkTargetBlank;co.prop("checked",cv);cp.one("click",function(cw){cw.preventDefault();cr.resolve({range:cm.range,url:cs.val(),text:cq.val(),isNewWindow:co.is(":checked")});cn.ui.hideDialog(cn.$dialog)})});cn.ui.onDialogHidden(cn.$dialog,function(){cq.off("input paste keypress");cs.off("input paste keypress");cp.off("click");if(cr.state()==="pending"){cr.reject()}});cn.ui.showDialog(cn.$dialog)}).promise()};e.prototype.show=function(){var cn=this;var cm=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange");this.showLinkDialog(cm).then(function(co){cn.context.invoke("editor.restoreRange");cn.context.invoke("editor.createLink",co)}).fail(function(){cn.context.invoke("editor.restoreRange")})};return e}());var m=(function(){function e(cm){var cn=this;this.context=cm;this.ui=a2.summernote.ui;this.options=cm.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){cn.update()},"summernote.disable summernote.dialog.shown":function(){cn.hide()}}}e.prototype.shouldInitialize=function(){return !n.isEmpty(this.options.popover.link)};e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(cn){var co=cn.find(".popover-content,.note-popover-content");co.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var cm=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",cm,this.options.popover.link)};e.prototype.destroy=function(){this.$popover.remove()};e.prototype.update=function(){if(!this.context.invoke("editor.hasFocus")){this.hide();return}var cm=this.context.invoke("editor.createRange");if(cm.isCollapsed()&&cm.isOnAnchor()){var co=bN.ancestor(cm.sc,bN.isAnchor);var cn=a2(co).attr("href");this.$popover.find("a").attr("href",cn).html(cn);var cp=bN.posFromPlaceholder(co);this.$popover.css({display:"block",left:cp.left,top:cp.top})}else{this.hide()}};e.prototype.hide=function(){this.$popover.hide()};return e}());var aC=(function(){function e(cm){this.context=cm;this.ui=a2.summernote.ui;this.$body=a2(document.body);this.$editor=cm.layoutInfo.editor;this.options=cm.options;this.lang=this.options.langInfo}e.prototype.initialize=function(){var cr=this.options.dialogsInBody?this.$body:this.$editor;var cp="";if(this.options.maximumImageFileSize){var co=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024));var cq=(this.options.maximumImageFileSize/Math.pow(1024,co)).toFixed(2)*1+"  KMGTP"[co]+"B";cp="<small>"+(this.lang.image.maximumFileSize+" : "+cq)+"</small>"}var cm=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',cp,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join("");var cn="btn btn-primary note-btn note-btn-primary note-image-btn";var cs='<button type="submit" href="#" class="'+cn+'" disabled>'+this.lang.image.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:cm,footer:cs}).render().appendTo(cr)};e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()};e.prototype.bindEnterKey=function(cn,cm){cn.on("keypress",function(co){if(co.keyCode===i.code.ENTER){co.preventDefault();cm.trigger("click")}})};e.prototype.show=function(){var cm=this;this.context.invoke("editor.saveRange");this.showImageDialog().then(function(cn){cm.ui.hideDialog(cm.$dialog);cm.context.invoke("editor.restoreRange");if(typeof cn==="string"){cm.context.invoke("editor.insertImage",cn)}else{cm.context.invoke("editor.insertImagesOrCallback",cn)}}).fail(function(){cm.context.invoke("editor.restoreRange")})};e.prototype.showImageDialog=function(){var cm=this;return a2.Deferred(function(cp){var cq=cm.$dialog.find(".note-image-input");var cn=cm.$dialog.find(".note-image-url");var co=cm.$dialog.find(".note-image-btn");cm.ui.onDialogShown(cm.$dialog,function(){cm.context.triggerEvent("dialog.shown");cq.replaceWith(cq.clone().on("change",function(cr){cp.resolve(cr.target.files||cr.target.value)}).val(""));co.click(function(cr){cr.preventDefault();cp.resolve(cn.val())});cn.on("keyup paste",function(){var cr=cn.val();cm.ui.toggleBtn(co,cr)}).val("");if(!ai.isSupportTouch){cn.trigger("focus")}cm.bindEnterKey(cn,co)});cm.ui.onDialogHidden(cm.$dialog,function(){cq.off("change");cn.off("keyup paste keypress");co.off("click");if(cp.state()==="pending"){cp.reject()}});cm.ui.showDialog(cm.$dialog)})};return e}());var bb=(function(){function e(cm){var cn=this;this.context=cm;this.ui=a2.summernote.ui;this.editable=cm.layoutInfo.editable[0];this.options=cm.options;this.events={"summernote.disable":function(){cn.hide()}}}e.prototype.shouldInitialize=function(){return !n.isEmpty(this.options.popover.image)};e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var cm=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",cm,this.options.popover.image)};e.prototype.destroy=function(){this.$popover.remove()};e.prototype.update=function(cn){if(bN.isImg(cn)){var co=bN.posFromPlaceholder(cn);var cm=bN.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:co.left,top:this.options.popatmouse?event.pageY:Math.min(co.top,cm.top)})}else{this.hide()}};e.prototype.hide=function(){this.$popover.hide()};return e}());var bW=(function(){function e(cm){var cn=this;this.context=cm;this.ui=a2.summernote.ui;this.options=cm.options;this.events={"summernote.mousedown":function(co,cp){cn.update(cp.target)},"summernote.keyup summernote.scroll summernote.change":function(){cn.update()},"summernote.disable":function(){cn.hide()}}}e.prototype.shouldInitialize=function(){return !n.isEmpty(this.options.popover.table)};e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var cm=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",cm,this.options.popover.table);if(ai.isFF){document.execCommand("enableInlineTableEditing",false,false)}};e.prototype.destroy=function(){this.$popover.remove()};e.prototype.update=function(cn){if(this.context.isDisabled()){return false}var cm=bN.isCell(cn);if(cm){var co=bN.posFromPlaceholder(cn);this.$popover.css({display:"block",left:co.left,top:co.top})}else{this.hide()}return cm};e.prototype.hide=function(){this.$popover.hide()};return e}());var H=(function(){function e(cm){this.context=cm;this.ui=a2.summernote.ui;this.$body=a2(document.body);this.$editor=cm.layoutInfo.editor;this.options=cm.options;this.lang=this.options.langInfo}e.prototype.initialize=function(){var co=this.options.dialogsInBody?this.$body:this.$editor;var cm=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join("");var cn="btn btn-primary note-btn note-btn-primary note-video-btn";var cp='<button type="submit" href="#" class="'+cn+'" disabled>'+this.lang.video.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:cm,footer:cp}).render().appendTo(co)};e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()};e.prototype.bindEnterKey=function(cn,cm){cn.on("keypress",function(co){if(co.keyCode===i.code.ENTER){co.preventDefault();cm.trigger("click")}})};e.prototype.createVideoNode=function(cu){var cC=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;var co=cu.match(cC);var cn=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/;var cK=cu.match(cn);var cA=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/;var cq=cu.match(cA);var cw=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/;var cB=cu.match(cw);var cr=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/;var cm=cu.match(cr);var cJ=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/;var cH=cu.match(cJ);var cF=/\/\/v\.qq\.com.*?vid=(.+)/;var cD=cu.match(cF);var cp=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/;var cs=cu.match(cp);var cE=/^.+.(mp4|m4v)$/;var cz=cu.match(cE);var cy=/^.+.(ogg|ogv)$/;var cL=cu.match(cy);var cI=/^.+.(webm)$/;var cv=cu.match(cI);var cx;if(co&&co[1].length===11){var ct=co[1];cx=a2("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+ct).attr("width","640").attr("height","360")}else{if(cK&&cK[0].length){cx=a2("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+cK[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true")}else{if(cq&&cq[0].length){cx=a2("<iframe>").attr("frameborder",0).attr("src",cq[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed")}else{if(cB&&cB[3].length){cx=a2("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+cB[3]).attr("width","640").attr("height","360")}else{if(cm&&cm[2].length){cx=a2("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+cm[2]).attr("width","640").attr("height","360")}else{if(cH&&cH[1].length){cx=a2("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+cH[1])}else{if((cD&&cD[1].length)||(cs&&cs[2].length)){var cG=((cD&&cD[1].length)?cD[1]:cs[2]);cx=a2("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+cG+"&amp;auto=0")}else{if(cz||cL||cv){cx=a2("<video controls>").attr("src",cu).attr("width","640").attr("height","360")}else{return false}}}}}}}}cx.addClass("note-video-clip");return cx[0]};e.prototype.show=function(){var cn=this;var cm=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange");this.showVideoDialog(cm).then(function(cp){cn.ui.hideDialog(cn.$dialog);cn.context.invoke("editor.restoreRange");var co=cn.createVideoNode(cp);if(co){cn.context.invoke("editor.insertNode",co)}}).fail(function(){cn.context.invoke("editor.restoreRange")})};e.prototype.showVideoDialog=function(cm){var cn=this;return a2.Deferred(function(co){var cp=cn.$dialog.find(".note-video-url");var cq=cn.$dialog.find(".note-video-btn");cn.ui.onDialogShown(cn.$dialog,function(){cn.context.triggerEvent("dialog.shown");cp.val(cm).on("input",function(){cn.ui.toggleBtn(cq,cp.val())});if(!ai.isSupportTouch){cp.trigger("focus")}cq.click(function(cr){cr.preventDefault();co.resolve(cp.val())});cn.bindEnterKey(cp,cq)});cn.ui.onDialogHidden(cn.$dialog,function(){cp.off("input");cq.off("click");if(co.state()==="pending"){co.reject()}});cn.ui.showDialog(cn.$dialog)})};return e}());var bn=(function(){function e(cm){this.context=cm;this.ui=a2.summernote.ui;this.$body=a2(document.body);this.$editor=cm.layoutInfo.editor;this.options=cm.options;this.lang=this.options.langInfo}e.prototype.initialize=function(){var cn=this.options.dialogsInBody?this.$body:this.$editor;var cm=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.10</a>  ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a>  ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:cm,callback:function(co){co.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(cn)};e.prototype.destroy=function(){this.ui.hideDialog(this.$dialog);this.$dialog.remove()};e.prototype.createShortcutList=function(){var cn=this;var cm=this.options.keyMap[ai.isMac?"mac":"pc"];return Object.keys(cm).map(function(cp){var cq=cm[cp];var co=a2('<div><div class="help-list-item"/></div>');co.append(a2("<label><kbd>"+cp+"</kdb></label>").css({width:180,"margin-right":10})).append(a2("<span/>").html(cn.context.memo("help."+cq)||cq));return co.html()}).join("")};e.prototype.showHelpDialog=function(){var cm=this;return a2.Deferred(function(cn){cm.ui.onDialogShown(cm.$dialog,function(){cm.context.triggerEvent("dialog.shown");cn.resolve()});cm.ui.showDialog(cm.$dialog)}).promise()};e.prototype.show=function(){var cm=this;this.context.invoke("editor.saveRange");this.showHelpDialog().then(function(){cm.context.invoke("editor.restoreRange")})};return e}());var ac=20;var bj=(function(){function e(cm){var cn=this;this.context=cm;this.ui=a2.summernote.ui;this.options=cm.options;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){cn.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){cn.hide()},"summernote.focusout":function(co,cp){if(ai.isFF){return}if(!cp.relatedTarget||!bN.ancestor(cp.relatedTarget,al.eq(cn.$popover[0]))){cn.hide()}}}}e.prototype.shouldInitialize=function(){return this.options.airMode&&!n.isEmpty(this.options.popover.air)};e.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var cm=this.$popover.find(".popover-content");this.context.invoke("buttons.build",cm,this.options.popover.air)};e.prototype.destroy=function(){this.$popover.remove()};e.prototype.update=function(){var co=this.context.invoke("editor.currentStyle");if(co.range&&!co.range.isCollapsed()){var cn=n.last(co.range.getClientRects());if(cn){var cm=al.rect2bnd(cn);this.$popover.css({display:"block",left:Math.max(cm.left+cm.width/2,0)-ac,top:cm.top+cm.height});this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else{this.hide()}};e.prototype.hide=function(){this.$popover.hide()};return e}());var bP=5;var au=(function(){function e(cm){var cn=this;this.context=cm;this.ui=a2.summernote.ui;this.$editable=cm.layoutInfo.editable;this.options=cm.options;this.hint=this.options.hint||[];this.direction=this.options.hintDirection||"bottom";this.hints=a2.isArray(this.hint)?this.hint:[this.hint];this.events={"summernote.keyup":function(co,cp){if(!cp.isDefaultPrevented()){cn.handleKeyup(cp)}},"summernote.keydown":function(co,cp){cn.handleKeydown(cp)},"summernote.disable summernote.dialog.shown":function(){cn.hide()}}}e.prototype.shouldInitialize=function(){return this.hints.length>0};e.prototype.initialize=function(){var cm=this;this.lastWordRange=null;this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:true,direction:""}).render().appendTo(this.options.container);this.$popover.hide();this.$content=this.$popover.find(".popover-content,.note-popover-content");this.$content.on("click",".note-hint-item",function(){cm.$content.find(".active").removeClass("active");a2(cm).addClass("active");cm.replace()})};e.prototype.destroy=function(){this.$popover.remove()};e.prototype.selectItem=function(cm){this.$content.find(".active").removeClass("active");cm.addClass("active");this.$content[0].scrollTop=cm[0].offsetTop-(this.$content.innerHeight()/2)};e.prototype.moveDown=function(){var co=this.$content.find(".note-hint-item.active");var cm=co.next();if(cm.length){this.selectItem(cm)}else{var cn=co.parent().next();if(!cn.length){cn=this.$content.find(".note-hint-group").first()}this.selectItem(cn.find(".note-hint-item").first())}};e.prototype.moveUp=function(){var cn=this.$content.find(".note-hint-item.active");var cm=cn.prev();if(cm.length){this.selectItem(cm)}else{var co=cn.parent().prev();if(!co.length){co=this.$content.find(".note-hint-group").last()}this.selectItem(co.find(".note-hint-item").last())}};e.prototype.replace=function(){var cm=this.$content.find(".note-hint-item.active");if(cm.length){var cn=this.nodeFromItem(cm);this.lastWordRange.insertNode(cn);S.createFromNode(cn).collapse().select();this.lastWordRange=null;this.hide();this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]);this.context.invoke("editor.focus")}};e.prototype.nodeFromItem=function(cm){var cp=this.hints[cm.data("index")];var co=cm.data("item");var cn=cp.content?cp.content(co):co;if(typeof cn==="string"){cn=bN.createText(cn)}return cn};e.prototype.createItemTemplates=function(cn,cm){var co=this.hints[cn];return cm.map(function(cr,cp){var cq=a2('<div class="note-hint-item"/>');cq.append(co.template?co.template(cr):cr+"");cq.data({index:cn,item:cr});return cq})};e.prototype.handleKeydown=function(cm){if(!this.$popover.is(":visible")){return}if(cm.keyCode===i.code.ENTER){cm.preventDefault();this.replace()}else{if(cm.keyCode===i.code.UP){cm.preventDefault();this.moveUp()}else{if(cm.keyCode===i.code.DOWN){cm.preventDefault();this.moveDown()}}}};e.prototype.searchKeyword=function(cn,cm,cq){var cp=this.hints[cn];if(cp&&cp.match.test(cm)&&cp.search){var co=cp.match.exec(cm);cp.search(co[1],cq)}else{cq()}};e.prototype.createGroup=function(cm,cn){var cp=this;var co=a2('<div class="note-hint-group note-hint-group-'+cm+'"/>');this.searchKeyword(cm,cn,function(cq){cq=cq||[];if(cq.length){co.html(cp.createItemTemplates(cm,cq));cp.show()}});return co};e.prototype.handleKeyup=function(co){var cq=this;if(!n.contains([i.code.ENTER,i.code.UP,i.code.DOWN],co.keyCode)){var cp=this.context.invoke("editor.createRange").getWordRange();var cn=cp.toString();if(this.hints.length&&cn){this.$content.empty();var cm=al.rect2bnd(n.last(cp.getClientRects()));if(cm){this.$popover.hide();this.lastWordRange=cp;this.hints.forEach(function(cs,cr){if(cs.match.test(cn)){cq.createGroup(cr,cn).appendTo(cq.$content)}});this.$content.find(".note-hint-item:first").addClass("active");if(this.direction==="top"){this.$popover.css({left:cm.left,top:cm.top-this.$popover.outerHeight()-bP})}else{this.$popover.css({left:cm.left,top:cm.top+cm.height+bP})}}}else{this.hide()}}};e.prototype.show=function(){this.$popover.show()};e.prototype.hide=function(){this.$popover.hide()};return e}());var bx=(function(){function e(cm,cn){this.ui=a2.summernote.ui;this.$note=cm;this.memos={};this.modules={};this.layoutInfo={};this.options=cn;this.initialize()}e.prototype.initialize=function(){this.layoutInfo=this.ui.createLayout(this.$note,this.options);this._initialize();this.$note.hide();return this};e.prototype.destroy=function(){this._destroy();this.$note.removeData("summernote");this.ui.removeLayout(this.$note,this.layoutInfo)};e.prototype.reset=function(){var cm=this.isDisabled();this.code(bN.emptyPara);this._destroy();this._initialize();if(cm){this.disable()}};e.prototype._initialize=function(){var co=this;var cn=a2.extend({},this.options.buttons);Object.keys(cn).forEach(function(cp){co.memo("button."+cp,cn[cp])});var cm=a2.extend({},this.options.modules,a2.summernote.plugins||{});Object.keys(cm).forEach(function(cp){co.module(cp,cm[cp],true)});Object.keys(this.modules).forEach(function(cp){co.initializeModule(cp)})};e.prototype._destroy=function(){var cm=this;Object.keys(this.modules).reverse().forEach(function(cn){cm.removeModule(cn)});Object.keys(this.memos).forEach(function(cn){cm.removeMemo(cn)});this.triggerEvent("destroy",this)};e.prototype.code=function(cn){var cm=this.invoke("codeview.isActivated");if(cn===undefined){this.invoke("codeview.sync");return cm?this.layoutInfo.codable.val():this.layoutInfo.editable.html()}else{if(cm){this.layoutInfo.codable.val(cn)}else{this.layoutInfo.editable.html(cn)}this.$note.val(cn);this.triggerEvent("change",cn)}};e.prototype.isDisabled=function(){return this.layoutInfo.editable.attr("contenteditable")==="false"};e.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",true);this.invoke("toolbar.activate",true);this.triggerEvent("disable",false)};e.prototype.disable=function(){if(this.invoke("codeview.isActivated")){this.invoke("codeview.deactivate")}this.layoutInfo.editable.attr("contenteditable",false);this.invoke("toolbar.deactivate",true);this.triggerEvent("disable",true)};e.prototype.triggerEvent=function(){var cn=n.head(arguments);var cm=n.tail(n.from(arguments));var co=this.options.callbacks[al.namespaceToCamel(cn,"on")];if(co){co.apply(this.$note[0],cm)}this.$note.trigger("summernote."+cn,cm)};e.prototype.initializeModule=function(cn){var cm=this.modules[cn];cm.shouldInitialize=cm.shouldInitialize||al.ok;if(!cm.shouldInitialize()){return}if(cm.initialize){cm.initialize()}if(cm.events){bN.attachEvents(this.$note,cm.events)}};e.prototype.module=function(co,cn,cm){if(arguments.length===1){return this.modules[co]}this.modules[co]=new cn(this);if(!cm){this.initializeModule(co)}};e.prototype.removeModule=function(cn){var cm=this.modules[cn];if(cm.shouldInitialize()){if(cm.events){bN.detachEvents(this.$note,cm.events)}if(cm.destroy){cm.destroy()}}delete this.modules[cn]};e.prototype.memo=function(cm,cn){if(arguments.length===1){return this.memos[cm]}this.memos[cm]=cn};e.prototype.removeMemo=function(cm){if(this.memos[cm]&&this.memos[cm].destroy){this.memos[cm].destroy()}delete this.memos[cm]};e.prototype.createInvokeHandlerAndUpdateState=function(cm,cn){var co=this;return function(cp){co.createInvokeHandler(cm,cn)(cp);co.invoke("buttons.updateCurrentStyle")}};e.prototype.createInvokeHandler=function(cm,cn){var co=this;return function(cq){cq.preventDefault();var cp=a2(cq.target);co.invoke(cm,cn||cp.closest("[data-value]").data("value"),cp)}};e.prototype.invoke=function(){var cq=n.head(arguments);var co=n.tail(n.from(arguments));var cs=cq.split(".");var cr=cs.length>1;var cn=cr&&n.head(cs);var cm=cr?n.last(cs):n.head(cs);var cp=this.modules[cn||"editor"];if(!cn&&this[cm]){return this[cm].apply(this,co)}else{if(cp&&cp[cm]&&cp.shouldInitialize()){return cp[cm].apply(cp,co)}}};return e}());a2.fn.extend({summernote:function(){var co=a2.type(n.head(arguments));var cq=co==="string";var cp=co==="object";var cm=a2.extend({},a2.summernote.options,cp?n.head(arguments):{});cm.langInfo=a2.extend(true,{},a2.summernote.lang["en-US"],a2.summernote.lang[cm.lang]);cm.icons=a2.extend(true,{},a2.summernote.options.icons,cm.icons);cm.tooltip=cm.tooltip==="auto"?!ai.isSupportTouch:cm.tooltip;this.each(function(cr,cu){var cs=a2(cu);if(!cs.data("summernote")){var ct=new bx(cs,cm);cs.data("summernote",ct);cs.data("summernote").triggerEvent("init",ct.layoutInfo)}});var e=this.first();if(e.length){var cn=e.data("summernote");if(cq){return cn.invoke.apply(cn,n.from(arguments))}else{if(cm.focus){cn.invoke("editor.focus")}}}return this}});a2.summernote=a2.extend(a2.summernote,{version:"0.8.10",ui:R,dom:bN,plugins:{},options:{modules:{editor:l,clipboard:ad,dropzone:bg,codeview:a7,statusbar:aN,fullscreen:bi,handle:t,hintPopover:au,autoLink:ag,autoSync:bt,placeholder:aE,buttons:ap,toolbar:bv,linkDialog:x,linkPopover:m,imageDialog:aC,imagePopover:bb,tablePopover:bW,videoDialog:H,helpDialog:bn,airPopover:bj},buttons:{},lang:"en-US",followingToolbar:true,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:true,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:false,width:null,height:null,linkTargetBlank:true,focus:false,tabSize:4,styleWithSpan:true,shortcuts:true,textareaAutoSync:true,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,styleTags:["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:false,dialogsFade:false,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:true,lineNumbers:true},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})})));