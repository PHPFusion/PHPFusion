(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("haxe",function(K,O){var x=K.indentUnit;var e=function(){function ag(aj){return{type:aj,style:"keyword"}}var ab=ag("keyword a"),ai=ag("keyword b"),ah=ag("keyword c");var ac=ag("operator"),af={type:"atom",style:"atom"},ae={type:"attribute",style:"attribute"};var ad=ag("typedef");return{"if":ab,"while":ab,"else":ai,"do":ai,"try":ai,"return":ah,"break":ah,"continue":ah,"new":ah,"throw":ah,"var":ag("var"),inline:ae,"static":ae,using:ag("import"),"public":ae,"private":ae,cast:ag("cast"),"import":ag("import"),macro:ag("macro"),"function":ag("function"),"catch":ag("catch"),untyped:ag("untyped"),callback:ag("cb"),"for":ag("for"),"switch":ag("switch"),"case":ag("case"),"default":ag("default"),"in":ac,never:ag("property_access"),trace:ag("trace"),"class":ad,"abstract":ad,"enum":ad,"interface":ad,typedef:ad,"extends":ad,"implements":ad,dynamic:ad,"true":af,"false":af,"null":af}}();var P=/[+\-*&%=<>!?|]/;function Z(ad,ac,ab){ac.tokenize=ab;return ab(ad,ac)}function h(ae,ab){var ad=false,ac;while((ac=ae.next())!=null){if(ac==ab&&!ad){return false}ad=!ad&&ac=="\\"}return ad}var aa,p;function E(ad,ac,ab){aa=ad;p=ab;return ac}function B(af,ad){var ab=af.next();if(ab=='"'||ab=="'"){return Z(af,ad,j(ab))}else{if(/[\[\]{}\(\),;\:\.]/.test(ab)){return E(ab)}else{if(ab=="0"&&af.eat(/x/i)){af.eatWhile(/[\da-f]/i);return E("number","number")}else{if(/\d/.test(ab)||ab=="-"&&af.eat(/\d/)){af.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return E("number","number")}else{if(ad.reAllowed&&(ab=="~"&&af.eat(/\//))){h(af,"/");af.eatWhile(/[gimsu]/);return E("regexp","string-2")}else{if(ab=="/"){if(af.eat("*")){return Z(af,ad,M)}else{if(af.eat("/")){af.skipToEnd();return E("comment","comment")}else{af.eatWhile(P);return E("operator",null,af.current())}}}else{if(ab=="#"){af.skipToEnd();return E("conditional","meta")}else{if(ab=="@"){af.eat(/:/);af.eatWhile(/[\w_]/);return E("metadata","meta")}else{if(P.test(ab)){af.eatWhile(P);return E("operator",null,af.current())}else{var ae;if(/[A-Z]/.test(ab)){af.eatWhile(/[\w_<>]/);ae=af.current();return E("type","variable-3",ae)}else{af.eatWhile(/[\w_]/);var ae=af.current(),ac=e.propertyIsEnumerable(ae)&&e[ae];return(ac&&ad.kwAllowed)?E(ac.type,ac.style,ae):E("variable","variable",ae)}}}}}}}}}}}function j(ab){return function(ad,ac){if(!h(ad,ab)){ac.tokenize=B}return E("string","string")}}function M(ae,ad){var ab=false,ac;while(ac=ae.next()){if(ac=="/"&&ab){ad.tokenize=B;break}ab=(ac=="*")}return E("comment","comment")}var l={atom:true,number:true,variable:true,string:true,regexp:true};function Y(ag,ac,ab,af,ad,ae){this.indented=ag;this.column=ac;this.type=ab;this.prev=ad;this.info=ae;if(af!=null){this.align=af}}function y(ad,ac){for(var ab=ad.localVars;ab;ab=ab.next){if(ab.name==ac){return true}}}function v(af,ac,ab,ae,ag){var ah=af.cc;w.state=af;w.stream=ag;w.marked=null,w.cc=ah;if(!af.lexical.hasOwnProperty("align")){af.lexical.align=true}while(true){var ad=ah.length?ah.pop():A;if(ad(ab,ae)){while(ah.length&&ah[ah.length-1].lex){ah.pop()()}if(w.marked){return w.marked}if(ab=="variable"&&y(af,ae)){return"variable-2"}if(ab=="variable"&&r(af,ae)){return"variable-3"}return ac}}}function r(ae,ad){if(/[a-z]/.test(ad.charAt(0))){return false}var ab=ae.importedtypes.length;for(var ac=0;ac<ab;ac++){if(ae.importedtypes[ac]==ad){return true}}}function S(ab){var ad=w.state;for(var ac=ad.importedtypes;ac;ac=ac.next){if(ac.name==ab){return}}ad.importedtypes={name:ab,next:ad.importedtypes}}var w={state:null,column:null,marked:null,cc:null};function b(){for(var ab=arguments.length-1;ab>=0;ab--){w.cc.push(arguments[ab])}}function I(){b.apply(null,arguments);return true}function m(ac){var ad=w.state;if(ad.context){w.marked="def";for(var ab=ad.localVars;ab;ab=ab.next){if(ab.name==ac){return}}ad.localVars={name:ac,next:ad.localVars}}}var G={name:"this",next:null};function t(){if(!w.state.context){w.state.localVars=G}w.state.context={prev:w.state.context,vars:w.state.localVars}}function s(){w.state.localVars=w.state.context.vars;w.state.context=w.state.context.prev}function k(ac,ad){var ab=function(){var ae=w.state;ae.lexical=new Y(ae.indented,w.stream.column(),ac,null,ae.lexical,ad)};ab.lex=true;return ab}function H(){var ab=w.state;if(ab.lexical.prev){if(ab.lexical.type==")"){ab.indented=ab.lexical.indented}ab.lexical=ab.lexical.prev}}H.lex=true;function f(ab){function ac(ad){if(ad==ab){return I()}else{if(ab==";"){return b()}else{return I(ac)}}}return ac}function A(ab){if(ab=="@"){return I(T)}if(ab=="var"){return I(k("vardef"),L,f(";"),H)}if(ab=="keyword a"){return I(k("form"),z,A,H)}if(ab=="keyword b"){return I(k("form"),A,H)}if(ab=="{"){return I(k("}"),t,n,H,s)}if(ab==";"){return I()}if(ab=="attribute"){return I(d)}if(ab=="function"){return I(i)}if(ab=="for"){return I(k("form"),f("("),k(")"),g,f(")"),H,A,H)}if(ab=="variable"){return I(k("stat"),D)}if(ab=="switch"){return I(k("form"),z,k("}","switch"),f("{"),n,H,H)}if(ab=="case"){return I(z,f(":"))}if(ab=="default"){return I(f(":"))}if(ab=="catch"){return I(k("form"),t,f("("),q,f(")"),A,H,s)}if(ab=="import"){return I(F,f(";"))}if(ab=="typedef"){return I(X)}return b(k("stat"),z,f(";"),H)}function z(ab){if(l.hasOwnProperty(ab)){return I(N)}if(ab=="function"){return I(i)}if(ab=="keyword c"){return I(C)}if(ab=="("){return I(k(")"),C,f(")"),H,N)}if(ab=="operator"){return I(z)}if(ab=="["){return I(k("]"),Q(z,"]"),H,N)}if(ab=="{"){return I(k("}"),Q(o,"}"),H,N)}return I()}function C(ab){if(ab.match(/[;\}\)\],]/)){return b()}return b(z)}function N(ab,ac){if(ab=="operator"&&/\+\+|--/.test(ac)){return I(N)}if(ab=="operator"||ab==":"){return I(z)}if(ab==";"){return}if(ab=="("){return I(k(")"),Q(z,")"),H,N)}if(ab=="."){return I(R,N)}if(ab=="["){return I(k("]"),z,f("]"),H,N)}}function d(ab){if(ab=="attribute"){return I(d)}if(ab=="function"){return I(i)}if(ab=="var"){return I(L)}}function T(ab){if(ab==":"){return I(T)}if(ab=="variable"){return I(T)}if(ab=="("){return I(k(")"),Q(U,")"),H,A)}}function U(ab){if(ab=="variable"){return I()}}function F(ab,ac){if(ab=="variable"&&/[A-Z]/.test(ac.charAt(0))){S(ac);return I()}else{if(ab=="variable"||ab=="property"||ab=="."||ac=="*"){return I(F)}}}function X(ab,ac){if(ab=="variable"&&/[A-Z]/.test(ac.charAt(0))){S(ac);return I()}else{if(ab=="type"&&/[A-Z]/.test(ac.charAt(0))){return I()}}}function D(ab){if(ab==":"){return I(H,A)}return b(N,f(";"),H)}function R(ab){if(ab=="variable"){w.marked="property";return I()}}function o(ab){if(ab=="variable"){w.marked="property"}if(l.hasOwnProperty(ab)){return I(f(":"),z)}}function Q(ad,ab){function ac(ae){if(ae==","){return I(ad,ac)}if(ae==ab){return I()}return I(f(ab))}return function(ae){if(ae==ab){return I()}else{return b(ad,ac)}}}function n(ab){if(ab=="}"){return I()}return b(A,n)}function L(ab,ac){if(ab=="variable"){m(ac);return I(u,J)}return I()}function J(ab,ac){if(ac=="="){return I(z,J)}if(ab==","){return I(L)}}function g(ab,ac){if(ab=="variable"){m(ac)}return I(k(")"),t,c,z,H,A,s)}function c(ab,ac){if(ac=="in"){return I()}}function i(ab,ac){if(ab=="variable"){m(ac);return I(i)}if(ac=="new"){return I(i)}if(ab=="("){return I(k(")"),t,Q(q,")"),H,u,A,s)}}function u(ab){if(ab==":"){return I(W)}}function W(ab){if(ab=="type"){return I()}if(ab=="variable"){return I()}if(ab=="{"){return I(k("}"),Q(V,"}"),H)}}function V(ab){if(ab=="variable"){return I(u)}}function q(ab,ac){if(ab=="variable"){m(ac);return I(u)}}return{startState:function(ac){var ab=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];return{tokenize:B,reAllowed:true,kwAllowed:true,cc:[],lexical:new Y((ac||0)-x,0,"block",false),localVars:O.localVars,importedtypes:ab,context:O.localVars&&{vars:O.localVars},indented:0}},token:function(ad,ac){if(ad.sol()){if(!ac.lexical.hasOwnProperty("align")){ac.lexical.align=false}ac.indented=ad.indentation()}if(ad.eatSpace()){return null}var ab=ac.tokenize(ad,ac);if(aa=="comment"){return ab}ac.reAllowed=!!(aa=="operator"||aa=="keyword c"||aa.match(/^[\[{}\(,;:]$/));ac.kwAllowed=aa!=".";return v(ac,ab,aa,p,ad)},indent:function(ag,ab){if(ag.tokenize!=B){return 0}var af=ab&&ab.charAt(0),ad=ag.lexical;if(ad.type=="stat"&&af=="}"){ad=ad.prev}var ae=ad.type,ac=af==ae;if(ae=="vardef"){return ad.indented+4}else{if(ae=="form"&&af=="{"){return ad.indented}else{if(ae=="stat"||ae=="form"){return ad.indented+x}else{if(ad.info=="switch"&&!ac){return ad.indented+(/^(?:case|default)\b/.test(ab)?x:2*x)}else{if(ad.align){return ad.column+(ac?0:1)}else{return ad.indented+(ac?0:x)}}}}}},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});a.defineMIME("text/x-haxe","haxe");a.defineMode("hxml",function(){return{startState:function(){return{define:false,inString:false}},token:function(f,e){var d=f.peek();var c=f.sol();if(d=="#"){f.skipToEnd();return"comment"}if(c&&d=="-"){var b="variable-2";f.eat(/-/);if(f.peek()=="-"){f.eat(/-/);b="keyword a"}if(f.peek()=="D"){f.eat(/[D]/);b="keyword c";e.define=true}f.eatWhile(/[A-Z]/i);return b}var d=f.peek();if(e.inString==false&&d=="'"){e.inString=true;d=f.next()}if(e.inString==true){if(f.skipTo("'")){}else{f.skipToEnd()}if(f.peek()=="'"){f.next();e.inString=false}return"string"}f.next();return null},lineComment:"#"}});a.defineMIME("text/x-hxml","hxml")});