/*!
 * # Semantic UI 2.4.2 - Rating
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(c,b,a,d){b=(typeof b!="undefined"&&b.Math==Math)?b:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();c.fn.rating=function(m){var k=c(this),h=k.selector||"",f=new Date().getTime(),j=[],i=arguments[0],e=(typeof i=="string"),l=[].slice.call(arguments,1),g;k.each(function(){var o=(c.isPlainObject(m))?c.extend(true,{},c.fn.rating.settings,m):c.extend({},c.fn.rating.settings),p=o.namespace,u=o.className,x=o.metadata,q=o.selector,v=o.error,A="."+p,s="module-"+p,r=this,z=c(this).data(s),w=c(this),t=w.find(q.icon),y,n;n={initialize:function(){n.verbose("Initializing rating module",o);if(t.length===0){n.setup.layout()}if(o.interactive){n.enable()}else{n.disable()}n.set.initialLoad();n.set.rating(n.get.initialRating());n.remove.initialLoad();n.instantiate()},instantiate:function(){n.verbose("Instantiating module",o);z=n;w.data(s,n)},destroy:function(){n.verbose("Destroying previous instance",z);n.remove.events();w.removeData(s)},refresh:function(){t=w.find(q.icon)},setup:{layout:function(){var B=n.get.maxRating(),C=c.fn.rating.settings.templates.icon(B);n.debug("Generating icon html dynamically");w.html(C);n.refresh()}},event:{mouseenter:function(){var B=c(this);B.nextAll().removeClass(u.selected);w.addClass(u.selected);B.addClass(u.selected).prevAll().addClass(u.selected)},mouseleave:function(){w.removeClass(u.selected);t.removeClass(u.selected)},click:function(){var E=c(this),D=n.get.rating(),C=t.index(E)+1,B=(o.clearable=="auto")?(t.length===1):o.clearable;if(B&&D==C){n.clearRating()}else{n.set.rating(C)}}},clearRating:function(){n.debug("Clearing current rating");n.set.rating(0)},bind:{events:function(){n.verbose("Binding events");w.on("mouseenter"+A,q.icon,n.event.mouseenter).on("mouseleave"+A,q.icon,n.event.mouseleave).on("click"+A,q.icon,n.event.click)}},remove:{events:function(){n.verbose("Removing events");w.off(A)},initialLoad:function(){y=false}},enable:function(){n.debug("Setting rating to interactive mode");n.bind.events();w.removeClass(u.disabled)},disable:function(){n.debug("Setting rating to read-only mode");n.remove.events();w.addClass(u.disabled)},is:{initialLoad:function(){return y}},get:{initialRating:function(){if(w.data(x.rating)!==d){w.removeData(x.rating);return w.data(x.rating)}return o.initialRating},maxRating:function(){if(w.data(x.maxRating)!==d){w.removeData(x.maxRating);return w.data(x.maxRating)}return o.maxRating},rating:function(){var B=t.filter("."+u.active).length;n.verbose("Current rating retrieved",B);return B}},set:{rating:function(B){var D=(B-1>=0)?(B-1):0,C=t.eq(D);w.removeClass(u.selected);t.removeClass(u.selected).removeClass(u.active);if(B>0){n.verbose("Setting current rating to",B);C.prevAll().addBack().addClass(u.active)}if(!n.is.initialLoad()){o.onRate.call(r,B)}},initialLoad:function(){y=true}},setting:function(B,C){n.debug("Changing setting",B,C);if(c.isPlainObject(B)){c.extend(true,o,B)}else{if(C!==d){if(c.isPlainObject(o[B])){c.extend(true,o[B],C)}else{o[B]=C}}else{return o[B]}}},internal:function(B,C){if(c.isPlainObject(B)){c.extend(true,n,B)}else{if(C!==d){n[B]=C}else{return n[B]}}},debug:function(){if(!o.silent&&o.debug){if(o.performance){n.performance.log(arguments)}else{n.debug=Function.prototype.bind.call(console.info,console,o.name+":");n.debug.apply(console,arguments)}}},verbose:function(){if(!o.silent&&o.verbose&&o.debug){if(o.performance){n.performance.log(arguments)}else{n.verbose=Function.prototype.bind.call(console.info,console,o.name+":");n.verbose.apply(console,arguments)}}},error:function(){if(!o.silent){n.error=Function.prototype.bind.call(console.error,console,o.name+":");n.error.apply(console,arguments)}},performance:{log:function(D){var C,E,B;if(o.performance){C=new Date().getTime();B=f||C;E=C-B;f=C;j.push({Name:D[0],Arguments:[].slice.call(D,1)||"",Element:r,"Execution Time":E})}clearTimeout(n.performance.timer);n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var C=o.name+":",B=0;f=false;clearTimeout(n.performance.timer);c.each(j,function(D,E){B+=E["Execution Time"]});C+=" "+B+"ms";if(h){C+=" '"+h+"'"}if(k.length>1){C+=" ("+k.length+")"}if((console.group!==d||console.table!==d)&&j.length>0){console.groupCollapsed(C);if(console.table){console.table(j)}else{c.each(j,function(D,E){console.log(E.Name+": "+E["Execution Time"]+"ms")})}console.groupEnd()}j=[]}},invoke:function(G,C,E){var D=z,H,F,B;C=C||l;E=r||E;if(typeof G=="string"&&D!==d){G=G.split(/[\. ]/);H=G.length-1;c.each(G,function(K,J){var I=(K!=H)?J+G[K+1].charAt(0).toUpperCase()+G[K+1].slice(1):G;if(c.isPlainObject(D[I])&&(K!=H)){D=D[I]}else{if(D[I]!==d){F=D[I];return false}else{if(c.isPlainObject(D[J])&&(K!=H)){D=D[J]}else{if(D[J]!==d){F=D[J];return false}else{return false}}}}})}if(c.isFunction(F)){B=F.apply(E,C)}else{if(F!==d){B=F}}if(c.isArray(g)){g.push(B)}else{if(g!==d){g=[g,B]}else{if(B!==d){g=B}}}return F}};if(e){if(z===d){n.initialize()}n.invoke(i)}else{if(z!==d){z.invoke("destroy")}n.initialize()}});return(g!==d)?g:this};c.fn.rating.settings={name:"Rating",namespace:"rating",slent:false,debug:false,verbose:false,performance:true,initialRating:0,interactive:true,maxRating:4,clearable:"auto",fireOnInit:false,onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){var g=1,f="";while(g<=e){f+='<i class="icon"></i>';g++}return f}}}})(jQuery,window,document);