/*!
 * # Semantic UI 2.4.2 - Embed
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(c,b,a,d){b=(typeof b!="undefined"&&b.Math==Math)?b:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();c.fn.embed=function(m){var k=c(this),h=k.selector||"",f=new Date().getTime(),j=[],i=arguments[0],e=(typeof i=="string"),l=[].slice.call(arguments,1),g;k.each(function(){var D=(c.isPlainObject(m))?c.extend(true,{},c.fn.embed.settings,m):c.extend({},c.fn.embed.settings),C=D.selector,r=D.className,n=D.sources,B=D.error,v=D.metadata,w=D.namespace,s=D.templates,A="."+w,x="module-"+w,y=c(b),t=c(this),u=t.find(C.placeholder),o=t.find(C.icon),z=t.find(C.embed),q=this,E=t.data(x),p;p={initialize:function(){p.debug("Initializing embed");p.determine.autoplay();p.create();p.bind.events();p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p);E=p;t.data(x,p)},destroy:function(){p.verbose("Destroying previous instance of embed");p.reset();t.removeData(x).off(A)},refresh:function(){p.verbose("Refreshing selector cache");u=t.find(C.placeholder);o=t.find(C.icon);z=t.find(C.embed)},bind:{events:function(){if(p.has.placeholder()){p.debug("Adding placeholder events");t.on("click"+A,C.placeholder,p.createAndShow).on("click"+A,C.icon,p.createAndShow)}}},create:function(){var F=p.get.placeholder();if(F){p.createPlaceholder()}else{p.createAndShow()}},createPlaceholder:function(H){var G=p.get.icon(),F=p.get.url(),I=p.generate.embed(F);H=H||p.get.placeholder();t.html(s.placeholder(H,G));p.debug("Creating placeholder for embed",H,G)},createEmbed:function(F){p.refresh();F=F||p.get.url();z=c("<div/>").addClass(r.embed).html(p.generate.embed(F)).appendTo(t);D.onCreate.call(q,F);p.debug("Creating embed object",z)},changeEmbed:function(F){z.html(p.generate.embed(F))},createAndShow:function(){p.createEmbed();p.show()},change:function(G,H,F){p.debug("Changing video to ",G,H,F);t.data(v.source,G).data(v.id,H);if(F){t.data(v.url,F)}else{t.removeData(v.url)}if(p.has.embed()){p.changeEmbed()}else{p.create()}},reset:function(){p.debug("Clearing embed and showing placeholder");p.remove.data();p.remove.active();p.remove.embed();p.showPlaceholder();D.onReset.call(q)},show:function(){p.debug("Showing embed");p.set.active();D.onDisplay.call(q)},hide:function(){p.debug("Hiding embed");p.showPlaceholder()},showPlaceholder:function(){p.debug("Showing placeholder image");p.remove.active();D.onPlaceholderDisplay.call(q)},get:{id:function(){return D.id||t.data(v.id)},placeholder:function(){return D.placeholder||t.data(v.placeholder)},icon:function(){return(D.icon)?D.icon:(t.data(v.icon)!==d)?t.data(v.icon):p.determine.icon()},source:function(F){return(D.source)?D.source:(t.data(v.source)!==d)?t.data(v.source):p.determine.source()},type:function(){var F=p.get.source();return(n[F]!==d)?n[F].type:false},url:function(){return(D.url)?D.url:(t.data(v.url)!==d)?t.data(v.url):p.determine.url()}},determine:{autoplay:function(){if(p.should.autoplay()){D.autoplay=true}},source:function(F){var G=false;F=F||p.get.url();if(F){c.each(n,function(H,I){if(F.search(I.domain)!==-1){G=H;return false}})}return G},icon:function(){var F=p.get.source();return(n[F]!==d)?n[F].icon:false},url:function(){var H=D.id||t.data(v.id),G=D.source||t.data(v.source),F;F=(n[G]!==d)?n[G].url.replace("{id}",H):false;if(F){t.data(v.url,F)}return F}},set:{active:function(){t.addClass(r.active)}},remove:{data:function(){t.removeData(v.id).removeData(v.icon).removeData(v.placeholder).removeData(v.source).removeData(v.url)},active:function(){t.removeClass(r.active)},embed:function(){z.empty()}},encode:{parameters:function(G){var H=[],F;for(F in G){H.push(encodeURIComponent(F)+"="+encodeURIComponent(G[F]))}return H.join("&amp;")}},generate:{embed:function(F){p.debug("Generating embed html");var I=p.get.source(),G,H;F=p.get.url(F);if(F){H=p.generate.parameters(I);G=s.iframe(F,H)}else{p.error(B.noURL,t)}return G},parameters:function(G,H){var F=(n[G]&&n[G].parameters!==d)?n[G].parameters(D):{};H=H||D.parameters;if(H){F=c.extend({},F,H)}F=D.onEmbed(F);return p.encode.parameters(F)}},has:{embed:function(){return(z.length>0)},placeholder:function(){return D.placeholder||t.data(v.placeholder)}},should:{autoplay:function(){return(D.autoplay==="auto")?(D.placeholder||t.data(v.placeholder)!==d):D.autoplay}},is:{video:function(){return p.get.type()=="video"}},setting:function(F,G){p.debug("Changing setting",F,G);if(c.isPlainObject(F)){c.extend(true,D,F)}else{if(G!==d){if(c.isPlainObject(D[F])){c.extend(true,D[F],G)}else{D[F]=G}}else{return D[F]}}},internal:function(F,G){if(c.isPlainObject(F)){c.extend(true,p,F)}else{if(G!==d){p[F]=G}else{return p[F]}}},debug:function(){if(!D.silent&&D.debug){if(D.performance){p.performance.log(arguments)}else{p.debug=Function.prototype.bind.call(console.info,console,D.name+":");p.debug.apply(console,arguments)}}},verbose:function(){if(!D.silent&&D.verbose&&D.debug){if(D.performance){p.performance.log(arguments)}else{p.verbose=Function.prototype.bind.call(console.info,console,D.name+":");p.verbose.apply(console,arguments)}}},error:function(){if(!D.silent){p.error=Function.prototype.bind.call(console.error,console,D.name+":");p.error.apply(console,arguments)}},performance:{log:function(H){var G,I,F;if(D.performance){G=new Date().getTime();F=f||G;I=G-F;f=G;j.push({Name:H[0],Arguments:[].slice.call(H,1)||"",Element:q,"Execution Time":I})}clearTimeout(p.performance.timer);p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var G=D.name+":",F=0;f=false;clearTimeout(p.performance.timer);c.each(j,function(H,I){F+=I["Execution Time"]});G+=" "+F+"ms";if(h){G+=" '"+h+"'"}if(k.length>1){G+=" ("+k.length+")"}if((console.group!==d||console.table!==d)&&j.length>0){console.groupCollapsed(G);if(console.table){console.table(j)}else{c.each(j,function(H,I){console.log(I.Name+": "+I["Execution Time"]+"ms")})}console.groupEnd()}j=[]}},invoke:function(K,G,I){var H=E,L,J,F;G=G||l;I=q||I;if(typeof K=="string"&&H!==d){K=K.split(/[\. ]/);L=K.length-1;c.each(K,function(O,N){var M=(O!=L)?N+K[O+1].charAt(0).toUpperCase()+K[O+1].slice(1):K;if(c.isPlainObject(H[M])&&(O!=L)){H=H[M]}else{if(H[M]!==d){J=H[M];return false}else{if(c.isPlainObject(H[N])&&(O!=L)){H=H[N]}else{if(H[N]!==d){J=H[N];return false}else{p.error(B.method,K);return false}}}}})}if(c.isFunction(J)){F=J.apply(I,G)}else{if(J!==d){F=J}}if(c.isArray(g)){g.push(F)}else{if(g!==d){g=[g,F]}else{if(F!==d){g=F}}}return J}};if(e){if(E===d){p.initialize()}p.invoke(i)}else{if(E!==d){E.invoke("destroy")}p.initialize()}});return(g!==d)?g:this};c.fn.embed.settings={name:"Embed",namespace:"embed",silent:false,debug:false,verbose:false,performance:true,icon:false,source:false,url:false,id:false,autoplay:"auto",color:"#444444",hd:true,brandedUI:false,parameters:false,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.color||d,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.color||d,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,f){var g=e;if(f){g+="?"+f}return'<iframe src="'+g+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(g,f){var e="";if(f){e+='<i class="'+f+' icon"></i>'}if(g){e+='<img class="placeholder" src="'+g+'">'}return e}},api:false,onPause:function(){},onPlay:function(){},onStop:function(){}}})(jQuery,window,document);