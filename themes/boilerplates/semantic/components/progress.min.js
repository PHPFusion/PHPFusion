/*!
 * # Semantic UI 2.4.2 - Progress
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(d,c,a,e){c=(typeof c!="undefined"&&c.Math==Math)?c:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();var b=(typeof c!="undefined"&&c.Math==Math)?c:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();d.fn.progress=function(n){var l=d(this),i=l.selector||"",g=new Date().getTime(),k=[],j=arguments[0],f=(typeof j=="string"),m=[].slice.call(arguments,1),h;l.each(function(){var r=(d.isPlainObject(n))?d.extend(true,{},d.fn.progress.settings,n):d.extend({},d.fn.progress.settings),w=r.className,B=r.metadata,s=r.namespace,t=r.selector,y=r.error,D="."+s,v="module-"+s,A=d(this),q=d(this).find(t.bar),x=d(this).find(t.progress),z=d(this).find(t.label),u=this,C=A.data(v),E=false,o,p;p={initialize:function(){p.debug("Initializing progress bar",r);p.set.duration();p.set.transitionEvent();p.read.metadata();p.read.settings();p.instantiate()},instantiate:function(){p.verbose("Storing instance of progress",p);C=p;A.data(v,p)},destroy:function(){p.verbose("Destroying previous progress for",A);clearInterval(C.interval);p.remove.state();A.removeData(v);C=e},reset:function(){p.remove.nextValue();p.update.progress(0)},complete:function(){if(p.percent===e||p.percent<100){p.remove.progressPoll();p.set.percent(100)}},read:{metadata:function(){var F={percent:A.data(B.percent),total:A.data(B.total),value:A.data(B.value)};if(F.percent){p.debug("Current percent value set from metadata",F.percent);p.set.percent(F.percent)}if(F.total){p.debug("Total value set from metadata",F.total);p.set.total(F.total)}if(F.value){p.debug("Current value set from metadata",F.value);p.set.value(F.value);p.set.progress(F.value)}},settings:function(){if(r.total!==false){p.debug("Current total set in settings",r.total);p.set.total(r.total)}if(r.value!==false){p.debug("Current value set in settings",r.value);p.set.value(r.value);p.set.progress(p.value)}if(r.percent!==false){p.debug("Current percent set in settings",r.percent);p.set.percent(r.percent)}}},bind:{transitionEnd:function(G){var F=p.get.transitionEnd();q.one(F+D,function(H){clearTimeout(p.failSafeTimer);G.call(this,H)});p.failSafeTimer=setTimeout(function(){q.triggerHandler(F)},r.duration+r.failSafeDelay);p.verbose("Adding fail safe timer",p.timer)}},increment:function(G){var I,F,H;if(p.has.total()){F=p.get.value();G=G||1;H=F+G}else{F=p.get.percent();G=G||p.get.randomValue();H=F+G;I=100;p.debug("Incrementing percentage by",F,H)}H=p.get.normalizedValue(H);p.set.progress(H)},decrement:function(G){var H=p.get.total(),F,I;if(H){F=p.get.value();G=G||1;I=F-G;p.debug("Decrementing value by",G,F)}else{F=p.get.percent();G=G||p.get.randomValue();I=F-G;p.debug("Decrementing percentage by",G,F)}I=p.get.normalizedValue(I);p.set.progress(I)},has:{progressPoll:function(){return p.progressPoll},total:function(){return(p.get.total()!==false)}},get:{text:function(I){var H=p.value||0,G=p.total||0,F=(E)?p.get.displayPercent():p.percent||0,J=(p.total>0)?(G-H):(100-F);I=I||"";I=I.replace("{value}",H).replace("{total}",G).replace("{left}",J).replace("{percent}",F);p.verbose("Adding variables to progress bar text",I);return I},normalizedValue:function(F){if(F<0){p.debug("Value cannot decrement below 0");return 0}if(p.has.total()){if(F>p.total){p.debug("Value cannot increment above total",p.total);return p.total}}else{if(F>100){p.debug("Value cannot increment above 100 percent");return 100}}return F},updateInterval:function(){if(r.updateInterval=="auto"){return r.duration}return r.updateInterval},randomValue:function(){p.debug("Generating random increment percentage");return Math.floor((Math.random()*r.random.max)+r.random.min)},numericValue:function(F){return(typeof F==="string")?(F.replace(/[^\d.]/g,"")!=="")?+(F.replace(/[^\d.]/g,"")):false:F},transitionEnd:function(){var F=a.createElement("element"),G={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},H;for(H in G){if(F.style[H]!==e){return G[H]}}},displayPercent:function(){var I=q.width(),F=A.width(),H=parseInt(q.css("min-width"),10),G=(I>H)?(I/F*100):p.percent;return(r.precision>0)?Math.round(G*(10*r.precision))/(10*r.precision):Math.round(G)},percent:function(){return p.percent||0},value:function(){return p.nextValue||p.value||0},total:function(){return p.total||false}},create:{progressPoll:function(){p.progressPoll=setTimeout(function(){p.update.toNextValue();p.remove.progressPoll()},p.get.updateInterval())}},is:{complete:function(){return p.is.success()||p.is.warning()||p.is.error()},success:function(){return A.hasClass(w.success)},warning:function(){return A.hasClass(w.warning)},error:function(){return A.hasClass(w.error)},active:function(){return A.hasClass(w.active)},visible:function(){return A.is(":visible")}},remove:{progressPoll:function(){p.verbose("Removing progress poll timer");if(p.progressPoll){clearTimeout(p.progressPoll);delete p.progressPoll}},nextValue:function(){p.verbose("Removing progress value stored for next update");delete p.nextValue},state:function(){p.verbose("Removing stored state");delete p.total;delete p.percent;delete p.value},active:function(){p.verbose("Removing active state");A.removeClass(w.active)},success:function(){p.verbose("Removing success state");A.removeClass(w.success)},warning:function(){p.verbose("Removing warning state");A.removeClass(w.warning)},error:function(){p.verbose("Removing error state");A.removeClass(w.error)}},set:{barWidth:function(F){if(F>100){p.error(y.tooHigh,F)}else{if(F<0){p.error(y.tooLow,F)}else{q.css("width",F+"%");A.attr("data-percent",parseInt(F,10))}}},duration:function(F){F=F||r.duration;F=(typeof F=="number")?F+"ms":F;p.verbose("Setting progress bar transition duration",F);q.css({"transition-duration":F})},percent:function(F){F=(typeof F=="string")?+(F.replace("%","")):F;F=(r.precision>0)?Math.round(F*(10*r.precision))/(10*r.precision):Math.round(F);p.percent=F;if(!p.has.total()){p.value=(r.precision>0)?Math.round((F/100)*p.total*(10*r.precision))/(10*r.precision):Math.round((F/100)*p.total*10)/10;if(r.limitValues){p.value=(p.value>100)?100:(p.value<0)?0:p.value}}p.set.barWidth(F);p.set.labelInterval();p.set.labels();r.onChange.call(u,F,p.value,p.total)},labelInterval:function(){var F=function(){p.verbose("Bar finished animating, removing continuous label updates");clearInterval(p.interval);E=false;p.set.labels()};clearInterval(p.interval);p.bind.transitionEnd(F);E=true;p.interval=setInterval(function(){var G=d.contains(a.documentElement,u);if(!G){clearInterval(p.interval);E=false}p.set.labels()},r.framerate)},labels:function(){p.verbose("Setting both bar progress and outer label text");p.set.barLabel();p.set.state()},label:function(F){F=F||"";if(F){F=p.get.text(F);p.verbose("Setting label to text",F);z.text(F)}},state:function(F){F=(F!==e)?F:p.percent;if(F===100){if(r.autoSuccess&&!(p.is.warning()||p.is.error()||p.is.success())){p.set.success();p.debug("Automatically triggering success at 100%")}else{p.verbose("Reached 100% removing active state");p.remove.active();p.remove.progressPoll()}}else{if(F>0){p.verbose("Adjusting active progress bar label",F);p.set.active()}else{p.remove.active();p.set.label(r.text.active)}}},barLabel:function(F){if(F!==e){x.text(p.get.text(F))}else{if(r.label=="ratio"&&p.total){p.verbose("Adding ratio to bar label");x.text(p.get.text(r.text.ratio))}else{if(r.label=="percent"){p.verbose("Adding percentage to bar label");x.text(p.get.text(r.text.percent))}}}},active:function(F){F=F||r.text.active;p.debug("Setting active state");if(r.showActivity&&!p.is.active()){A.addClass(w.active)}p.remove.warning();p.remove.error();p.remove.success();F=r.onLabelUpdate("active",F,p.value,p.total);if(F){p.set.label(F)}p.bind.transitionEnd(function(){r.onActive.call(u,p.value,p.total)})},success:function(F){F=F||r.text.success||r.text.active;p.debug("Setting success state");A.addClass(w.success);p.remove.active();p.remove.warning();p.remove.error();p.complete();if(r.text.success){F=r.onLabelUpdate("success",F,p.value,p.total);p.set.label(F)}else{F=r.onLabelUpdate("active",F,p.value,p.total);p.set.label(F)}p.bind.transitionEnd(function(){r.onSuccess.call(u,p.total)})},warning:function(F){F=F||r.text.warning;p.debug("Setting warning state");A.addClass(w.warning);p.remove.active();p.remove.success();p.remove.error();p.complete();F=r.onLabelUpdate("warning",F,p.value,p.total);if(F){p.set.label(F)}p.bind.transitionEnd(function(){r.onWarning.call(u,p.value,p.total)})},error:function(F){F=F||r.text.error;p.debug("Setting error state");A.addClass(w.error);p.remove.active();p.remove.success();p.remove.warning();p.complete();F=r.onLabelUpdate("error",F,p.value,p.total);if(F){p.set.label(F)}p.bind.transitionEnd(function(){r.onError.call(u,p.value,p.total)})},transitionEvent:function(){o=p.get.transitionEnd()},total:function(F){p.total=F},value:function(F){p.value=F},progress:function(F){if(!p.has.progressPoll()){p.debug("First update in progress update interval, immediately updating",F);p.update.progress(F);p.create.progressPoll()}else{p.debug("Updated within interval, setting next update to use new value",F);p.set.nextValue(F)}},nextValue:function(F){p.nextValue=F}},update:{toNextValue:function(){var F=p.nextValue;if(F){p.debug("Update interval complete using last updated value",F);p.update.progress(F);p.remove.nextValue()}},progress:function(G){var F;G=p.get.numericValue(G);if(G===false){p.error(y.nonNumeric,G)}G=p.get.normalizedValue(G);if(p.has.total()){p.set.value(G);F=(G/p.total)*100;p.debug("Calculating percent complete from total",F);p.set.percent(F)}else{F=G;p.debug("Setting value to exact percentage value",F);p.set.percent(F)}}},setting:function(F,G){p.debug("Changing setting",F,G);if(d.isPlainObject(F)){d.extend(true,r,F)}else{if(G!==e){if(d.isPlainObject(r[F])){d.extend(true,r[F],G)}else{r[F]=G}}else{return r[F]}}},internal:function(F,G){if(d.isPlainObject(F)){d.extend(true,p,F)}else{if(G!==e){p[F]=G}else{return p[F]}}},debug:function(){if(!r.silent&&r.debug){if(r.performance){p.performance.log(arguments)}else{p.debug=Function.prototype.bind.call(console.info,console,r.name+":");p.debug.apply(console,arguments)}}},verbose:function(){if(!r.silent&&r.verbose&&r.debug){if(r.performance){p.performance.log(arguments)}else{p.verbose=Function.prototype.bind.call(console.info,console,r.name+":");p.verbose.apply(console,arguments)}}},error:function(){if(!r.silent){p.error=Function.prototype.bind.call(console.error,console,r.name+":");p.error.apply(console,arguments)}},performance:{log:function(H){var G,I,F;if(r.performance){G=new Date().getTime();F=g||G;I=G-F;g=G;k.push({Name:H[0],Arguments:[].slice.call(H,1)||"",Element:u,"Execution Time":I})}clearTimeout(p.performance.timer);p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var G=r.name+":",F=0;g=false;clearTimeout(p.performance.timer);d.each(k,function(H,I){F+=I["Execution Time"]});G+=" "+F+"ms";if(i){G+=" '"+i+"'"}if((console.group!==e||console.table!==e)&&k.length>0){console.groupCollapsed(G);if(console.table){console.table(k)}else{d.each(k,function(H,I){console.log(I.Name+": "+I["Execution Time"]+"ms")})}console.groupEnd()}k=[]}},invoke:function(K,G,I){var H=C,L,J,F;G=G||m;I=u||I;if(typeof K=="string"&&H!==e){K=K.split(/[\. ]/);L=K.length-1;d.each(K,function(O,N){var M=(O!=L)?N+K[O+1].charAt(0).toUpperCase()+K[O+1].slice(1):K;if(d.isPlainObject(H[M])&&(O!=L)){H=H[M]}else{if(H[M]!==e){J=H[M];return false}else{if(d.isPlainObject(H[N])&&(O!=L)){H=H[N]}else{if(H[N]!==e){J=H[N];return false}else{p.error(y.method,K);return false}}}}})}if(d.isFunction(J)){F=J.apply(I,G)}else{if(J!==e){F=J}}if(d.isArray(h)){h.push(F)}else{if(h!==e){h=[h,F]}else{if(F!==e){h=F}}}return J}};if(f){if(C===e){p.initialize()}p.invoke(j)}else{if(C!==e){C.invoke("destroy")}p.initialize()}});return(h!==e)?h:this};d.fn.progress.settings={name:"Progress",namespace:"progress",silent:false,debug:false,verbose:false,performance:true,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:true,showActivity:true,limitValues:true,label:"percent",precision:0,framerate:(1000/30),percent:false,total:false,value:false,failSafeDelay:100,onLabelUpdate:function(h,i,g,f){return i},onChange:function(g,h,f){},onSuccess:function(f){},onActive:function(g,f){},onError:function(g,f){},onWarning:function(g,f){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:false,error:false,success:false,warning:false,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}})(jQuery,window,document);