/*!
 * # Semantic UI 2.4.2 - Sticky
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(c,b,a,d){b=(typeof b!="undefined"&&b.Math==Math)?b:(typeof self!="undefined"&&self.Math==Math)?self:Function("return this")();c.fn.sticky=function(m){var k=c(this),h=k.selector||"",f=new Date().getTime(),j=[],i=arguments[0],e=(typeof i=="string"),l=[].slice.call(arguments,1),g;k.each(function(){var D=(c.isPlainObject(m))?c.extend(true,{},c.fn.sticky.settings,m):c.extend({},c.fn.sticky.settings),p=D.className,t=D.namespace,z=D.error,x="."+t,u="module-"+t,s=c(this),v=c(b),r=c(D.scrollContext),y,w,C=s.selector||"",E=s.data(u),q=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(F){setTimeout(F,0)},o=this,A,B,n;n={initialize:function(){n.determineContainer();n.determineContext();n.verbose("Initializing sticky",D,y);n.save.positions();n.checkErrors();n.bind.events();if(D.observeChanges){n.observeChanges()}n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n);E=n;s.data(u,n)},destroy:function(){n.verbose("Destroying previous instance");n.reset();if(A){A.disconnect()}if(B){B.disconnect()}v.off("load"+x,n.event.load).off("resize"+x,n.event.resize);r.off("scrollchange"+x,n.event.scrollchange);s.removeData(u)},observeChanges:function(){if("MutationObserver" in b){A=new MutationObserver(n.event.documentChanged);B=new MutationObserver(n.event.changed);A.observe(a,{childList:true,subtree:true});B.observe(o,{childList:true,subtree:true});B.observe(w[0],{childList:true,subtree:true});n.debug("Setting up mutation observer",B)}},determineContainer:function(){if(D.container){y=c(D.container)}else{y=s.offsetParent()}},determineContext:function(){if(D.context){w=c(D.context)}else{w=y}if(w.length===0){n.error(z.invalidContext,D.context,s);return}},checkErrors:function(){if(n.is.hidden()){n.error(z.visible,s)}if(n.cache.element.height>n.cache.context.height){n.reset();n.error(z.elementSize,s);return}},bind:{events:function(){v.on("load"+x,n.event.load).on("resize"+x,n.event.resize);r.off("scroll"+x).on("scroll"+x,n.event.scroll).on("scrollchange"+x,n.event.scrollchange)}},event:{changed:function(F){clearTimeout(n.timer);n.timer=setTimeout(function(){n.verbose("DOM tree modified, updating sticky menu",F);n.refresh()},100)},documentChanged:function(F){[].forEach.call(F,function(G){if(G.removedNodes){[].forEach.call(G.removedNodes,function(H){if(H==o||c(H).find(o).length>0){n.debug("Element removed from DOM, tearing down events");n.destroy()}})}})},load:function(){n.verbose("Page contents finished loading");q(n.refresh)},resize:function(){n.verbose("Window resized");q(n.refresh)},scroll:function(){q(function(){r.triggerHandler("scrollchange"+x,r.scrollTop())})},scrollchange:function(G,F){n.stick(F);D.onScroll.call(o)}},refresh:function(F){n.reset();if(!D.context){n.determineContext()}if(F){n.determineContainer()}n.save.positions();n.stick();D.onReposition.call(o)},supports:{sticky:function(){var F=c("<div/>"),G=F[0];F.addClass(p.supported);return(F.css("position").match("sticky"))}},save:{lastScroll:function(F){n.lastScroll=F},elementScroll:function(F){n.elementScroll=F},positions:function(){var I={height:r.height()},H={margin:{top:parseInt(s.css("margin-top"),10),bottom:parseInt(s.css("margin-bottom"),10)},offset:s.offset(),width:s.outerWidth(),height:s.outerHeight()},G={offset:w.offset(),height:w.outerHeight()},F={height:y.outerHeight()};if(!n.is.standardScroll()){n.debug("Non-standard scroll. Removing scroll offset from element offset");I.top=r.scrollTop();I.left=r.scrollLeft();H.offset.top+=I.top;G.offset.top+=I.top;H.offset.left+=I.left;G.offset.left+=I.left}n.cache={fits:((H.height+D.offset)<=I.height),sameHeight:(H.height==G.height),scrollContext:{height:I.height},element:{margin:H.margin,top:H.offset.top-H.margin.top,left:H.offset.left,width:H.width,height:H.height,bottom:H.offset.top+H.height},context:{top:G.offset.top,height:G.height,bottom:G.offset.top+G.height}};n.set.containerSize();n.stick();n.debug("Caching element positions",n.cache)}},get:{direction:function(F){var G="down";F=F||r.scrollTop();if(n.lastScroll!==d){if(n.lastScroll<F){G="down"}else{if(n.lastScroll>F){G="up"}}}return G},scrollChange:function(F){F=F||r.scrollTop();return(n.lastScroll)?(F-n.lastScroll):0},currentElementScroll:function(){if(n.elementScroll){return n.elementScroll}return(n.is.top())?Math.abs(parseInt(s.css("top"),10))||0:Math.abs(parseInt(s.css("bottom"),10))||0},elementScroll:function(F){F=F||r.scrollTop();var G=n.cache.element,K=n.cache.scrollContext,L=n.get.scrollChange(F),I=(G.height-K.height+D.offset),H=n.get.currentElementScroll(),J=(H+L);if(n.cache.fits||J<0){H=0}else{if(J>I){H=I}else{H=J}}return H}},remove:{lastScroll:function(){delete n.lastScroll},elementScroll:function(F){delete n.elementScroll},minimumSize:function(){y.css("min-height","")},offset:function(){s.css("margin-top","")}},set:{offset:function(){n.verbose("Setting offset on element",D.offset);s.css("margin-top",D.offset)},containerSize:function(){var F=y.get(0).tagName;if(F==="HTML"||F=="body"){n.determineContainer()}else{if(Math.abs(y.outerHeight()-n.cache.context.height)>D.jitter){n.debug("Context has padding, specifying exact height for container",n.cache.context.height);y.css({height:n.cache.context.height})}}},minimumSize:function(){var F=n.cache.element;y.css("min-height",F.height)},scroll:function(F){n.debug("Setting scroll on element",F);if(n.elementScroll==F){return}if(n.is.top()){s.css("bottom","").css("top",-F)}if(n.is.bottom()){s.css("top","").css("bottom",F)}},size:function(){if(n.cache.element.height!==0&&n.cache.element.width!==0){o.style.setProperty("width",n.cache.element.width+"px","important");o.style.setProperty("height",n.cache.element.height+"px","important")}}},is:{standardScroll:function(){return(r[0]==b)},top:function(){return s.hasClass(p.top)},bottom:function(){return s.hasClass(p.bottom)},initialPosition:function(){return(!n.is.fixed()&&!n.is.bound())},hidden:function(){return(!s.is(":visible"))},bound:function(){return s.hasClass(p.bound)},fixed:function(){return s.hasClass(p.fixed)}},stick:function(Q){var O=Q||r.scrollTop(),F=n.cache,R=F.fits,N=F.sameHeight,K=F.element,I=F.scrollContext,G=F.context,J=(n.is.bottom()&&D.pushing)?D.bottomOffset:D.offset,Q={top:O+J,bottom:O+J+I.height},P=n.get.direction(Q.top),L=(R)?0:n.get.elementScroll(Q.top),H=!R,M=(K.height!==0);if(M&&!N){if(n.is.initialPosition()){if(Q.top>=G.bottom){n.debug("Initial element position is bottom of container");n.bindBottom()}else{if(Q.top>K.top){if((K.height+Q.top-L)>=G.bottom){n.debug("Initial element position is bottom of container");n.bindBottom()}else{n.debug("Initial element position is fixed");n.fixTop()}}}}else{if(n.is.fixed()){if(n.is.top()){if(Q.top<=K.top){n.debug("Fixed element reached top of container");n.setInitialPosition()}else{if((K.height+Q.top-L)>=G.bottom){n.debug("Fixed element reached bottom of container");n.bindBottom()}else{if(H){n.set.scroll(L);n.save.lastScroll(Q.top);n.save.elementScroll(L)}}}}else{if(n.is.bottom()){if((Q.bottom-K.height)<=K.top){n.debug("Bottom fixed rail has reached top of container");n.setInitialPosition()}else{if(Q.bottom>=G.bottom){n.debug("Bottom fixed rail has reached bottom of container");n.bindBottom()}else{if(H){n.set.scroll(L);n.save.lastScroll(Q.top);n.save.elementScroll(L)}}}}}}else{if(n.is.bottom()){if(Q.top<=K.top){n.debug("Jumped from bottom fixed to top fixed, most likely used home/end button");n.setInitialPosition()}else{if(D.pushing){if(n.is.bound()&&Q.bottom<=G.bottom){n.debug("Fixing bottom attached element to bottom of browser.");n.fixBottom()}}else{if(n.is.bound()&&(Q.top<=G.bottom-K.height)){n.debug("Fixing bottom attached element to top of browser.");n.fixTop()}}}}}}}},bindTop:function(){n.debug("Binding element to top of parent container");n.remove.offset();s.css({left:"",top:"",marginBottom:""}).removeClass(p.fixed).removeClass(p.bottom).addClass(p.bound).addClass(p.top);D.onTop.call(o);D.onUnstick.call(o)},bindBottom:function(){n.debug("Binding element to bottom of parent container");n.remove.offset();s.css({left:"",top:""}).removeClass(p.fixed).removeClass(p.top).addClass(p.bound).addClass(p.bottom);D.onBottom.call(o);D.onUnstick.call(o)},setInitialPosition:function(){n.debug("Returning to initial position");n.unfix();n.unbind()},fixTop:function(){n.debug("Fixing element to top of page");if(D.setSize){n.set.size()}n.set.minimumSize();n.set.offset();s.css({left:n.cache.element.left,bottom:"",marginBottom:""}).removeClass(p.bound).removeClass(p.bottom).addClass(p.fixed).addClass(p.top);D.onStick.call(o)},fixBottom:function(){n.debug("Sticking element to bottom of page");if(D.setSize){n.set.size()}n.set.minimumSize();n.set.offset();s.css({left:n.cache.element.left,bottom:"",marginBottom:""}).removeClass(p.bound).removeClass(p.top).addClass(p.fixed).addClass(p.bottom);D.onStick.call(o)},unbind:function(){if(n.is.bound()){n.debug("Removing container bound position on element");n.remove.offset();s.removeClass(p.bound).removeClass(p.top).removeClass(p.bottom)}},unfix:function(){if(n.is.fixed()){n.debug("Removing fixed position on element");n.remove.minimumSize();n.remove.offset();s.removeClass(p.fixed).removeClass(p.top).removeClass(p.bottom);D.onUnstick.call(o)}},reset:function(){n.debug("Resetting elements position");n.unbind();n.unfix();n.resetCSS();n.remove.offset();n.remove.lastScroll()},resetCSS:function(){s.css({width:"",height:""});y.css({height:""})},setting:function(F,G){if(c.isPlainObject(F)){c.extend(true,D,F)}else{if(G!==d){D[F]=G}else{return D[F]}}},internal:function(F,G){if(c.isPlainObject(F)){c.extend(true,n,F)}else{if(G!==d){n[F]=G}else{return n[F]}}},debug:function(){if(!D.silent&&D.debug){if(D.performance){n.performance.log(arguments)}else{n.debug=Function.prototype.bind.call(console.info,console,D.name+":");n.debug.apply(console,arguments)}}},verbose:function(){if(!D.silent&&D.verbose&&D.debug){if(D.performance){n.performance.log(arguments)}else{n.verbose=Function.prototype.bind.call(console.info,console,D.name+":");n.verbose.apply(console,arguments)}}},error:function(){if(!D.silent){n.error=Function.prototype.bind.call(console.error,console,D.name+":");n.error.apply(console,arguments)}},performance:{log:function(H){var G,I,F;if(D.performance){G=new Date().getTime();F=f||G;I=G-F;f=G;j.push({Name:H[0],Arguments:[].slice.call(H,1)||"",Element:o,"Execution Time":I})}clearTimeout(n.performance.timer);n.performance.timer=setTimeout(n.performance.display,0)},display:function(){var G=D.name+":",F=0;f=false;clearTimeout(n.performance.timer);c.each(j,function(H,I){F+=I["Execution Time"]});G+=" "+F+"ms";if(h){G+=" '"+h+"'"}if((console.group!==d||console.table!==d)&&j.length>0){console.groupCollapsed(G);if(console.table){console.table(j)}else{c.each(j,function(H,I){console.log(I.Name+": "+I["Execution Time"]+"ms")})}console.groupEnd()}j=[]}},invoke:function(K,G,I){var H=E,L,J,F;G=G||l;I=o||I;if(typeof K=="string"&&H!==d){K=K.split(/[\. ]/);L=K.length-1;c.each(K,function(O,N){var M=(O!=L)?N+K[O+1].charAt(0).toUpperCase()+K[O+1].slice(1):K;if(c.isPlainObject(H[M])&&(O!=L)){H=H[M]}else{if(H[M]!==d){J=H[M];return false}else{if(c.isPlainObject(H[N])&&(O!=L)){H=H[N]}else{if(H[N]!==d){J=H[N];return false}else{return false}}}}})}if(c.isFunction(J)){F=J.apply(I,G)}else{if(J!==d){F=J}}if(c.isArray(g)){g.push(F)}else{if(g!==d){g=[g,F]}else{if(F!==d){g=F}}}return J}};if(e){if(E===d){n.initialize()}n.invoke(i)}else{if(E!==d){E.invoke("destroy")}n.initialize()}});return(g!==d)?g:this};c.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:false,debug:false,verbose:true,performance:true,pushing:false,context:false,container:false,scrollContext:b,offset:0,bottomOffset:0,jitter:5,setSize:true,observeChanges:false,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}})(jQuery,window,document);